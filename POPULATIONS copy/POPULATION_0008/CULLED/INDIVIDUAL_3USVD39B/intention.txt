Assessment of current model and justification for change

1) Fit to data
- A residuals file was referenced but not provided here. Without it, I cannot quantitatively assess fit (biases, autocorrelation, peak under/overshoot). Please share the residuals to validate these points.
- Structurally, the COTS demographic core uses an additive logistic increment (deltaC = rC * C * (1 - C/Kc) - mC_base * C), which tends to produce smooth approach to carrying capacity and relatively muted declines. This formulation can struggle to reproduce sharp boom-bust cycles typical of episodic COTS outbreaks unless rC varies extremely over time.

2) Alignment with project context (episodic outbreaks)
- Strengths: The model already includes selective predation on fast/slow coral via a multi-prey Holling response (with Type III option via q), Allee effects on COTS, temperature effects on both corals and COTS, and immigration pulses.
- Gaps relative to episodic outbreaks:
  a) Overcompensation/boom-bust dynamics: Additive logistic growth for COTS generally underrepresents the rapid ascent to outbreak levels and sharp post-peak crashes that are characteristic in the field.
  b) Mortality feedbacks: Declines are controlled by mC_base and density limitation through Kc(Coral), but this often yields gradual declines rather than abrupt busts unless mC_base is very high.
  c) Recruitment pulse drivers (nutrient/larval survival) are not explicit; immigration provides pulses but may not be sufficient to reproduce the internal boom-bust dynamics.

3) Potentially missing or oversimplified processes
- Stage structure (cryptic juveniles) and nutrient-driven larval survival pulses are not included; both can sharpen outbreak timing and amplitude.
- Strong density-dependent mortality/disease at high COTS density is not explicit (beyond logistic limitation).
- The demographic core uses an additive logistic increment instead of a multiplicative (discrete-time) stock-recruit form (e.g., Ricker), which is commonly used to reproduce oscillatory and outbreak dynamics.

Note on parameter realism
- With current defaults, the maximum per-capita reproductive term may be too low to overcome baseline mortality:
  rC_max = 3.0, epsilon_food = 0.4 → rC ≤ 1.2 at best (before temperature, Allee, food saturation multipliers). mC_base = 1.28065. Thus, even under ideal conditions, rC - mC_base < 0, implying declines without strong immigration.
- This does not require an immediate parameter change here, but during estimation the optimizer will likely push rC_max upward and/or epsilon_food upward (or reduce mC_base) to allow outbreaks. If the residuals confirm persistent underprediction of outbreaks, consider relaxing epsilon_food’s upper bound (>1) or revisiting mC_base’s central tendency.

Chosen improvement: Switch COTS demographic core from additive logistic increment to a Ricker-type multiplicative update
- Rationale:
  a) Ecological: COTS populations exhibit rapid increases and sharp declines (overcompensation) that are better captured by discrete-time multiplicative processes (Ricker) than by additive logistic increments.
  b) Mathematical: The Ricker form N_{t+1} = N_t * exp(r_eff * (1 - N_t/K)) can generate pulses/oscillations when r_eff is large and supports boom-bust cycles without introducing new parameters.
  c) Minimal complexity: This targets the demographic nonlinearity with a single structural adjustment and no new parameters, preserving identifiability.
- Implementation details:
  - Replace deltaC = rC*C*(1 - C/Kc) and the additive mortality - mC_base*C with a multiplicative update:
      r_net = rC * (1 - C_prev/(Kc+eps)) - mC_base
      C_next_raw = C_prev * exp(r_net) + gamma_imm * IMM_t
    Then apply the same softplus positivity safeguard.
  - All other components (food limitation, temperature performance, Allee effect, immigration, carrying capacity linked to coral) remain unchanged.

Expected effects on dynamics
- When conditions transiently increase rC (food, temperature, Allee) and/or Kc is high (plenty of coral), r_net can become positive, leading to rapid exponential increases (outbreak onset).
- As densities approach or exceed Kc or conditions deteriorate, r_net turns negative, producing fast declines (bust).
- This change should improve the timing, magnitude, and duration of outbreaks without adding parameters.

Parameters.json changes
- None required for this improvement. If calibration reveals chronic underprediction of outbreaks, consider allowing epsilon_food to exceed 1.0 (i.e., change its upper_bound) or adjusting the central tendency for mC_base; however, this is not changed here.

Data leakage check
- The update continues to use only lagged states (C_prev, F_prev, S_prev) and current forcing (SST_t, IMM_t). No t-step observed responses are used in prediction.

Next steps if residuals indicate issues
- If peaks remain underpredicted: Relax epsilon_food upper bound (>1), or consider a temperature/nutrient pulse modifier on reproduction (requires an environmental proxy).
- If declines remain too gradual: Add a density-dependent mortality term (e.g., sigmoidal function of C/Kc) to represent disease/predation during outbreaks.

Please provide the residuals file so we can verify that this change improves peak timing and decay rates and check for remaining structure in residuals.
