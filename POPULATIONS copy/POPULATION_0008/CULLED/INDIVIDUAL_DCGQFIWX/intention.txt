Assessment of current model and rationale for change

1) Fit to data (residuals)
- A residuals file was referenced but not provided in the current context, so I could not directly inspect residual patterns. My assessment below focuses on structural adequacy relative to the project context and typical misfit patterns seen in COTS boom–bust systems.

2) Alignment with PROJECT CONTEXT
- Strengths:
  - Boom-bust enabling mechanisms are present: an Allee effect on recruitment, prey-driven survival, prey-dependent recruitment limitation, and Beverton–Ricker density regulation on recruits.
  - Selective predation on coral functional groups is modeled via prey preferences and multi-prey Type-II grazing, with bleaching impacts on corals and a temperature logistic for bleaching severity.
  - Environmental forcing by temperature is applied to both coral growth and COTS reproduction; immigration forcing is included.
- Limitations relative to outbreak timing, magnitude, duration:
  - No explicit developmental delay between spawning and recruitment to the adult class. In reality, COTS take roughly 1–3 years to contribute to the adult population after spawning. The absence of delay makes outbreaks too synchronous with adult stock and contemporary environment, often under-damping or mis-timing boom–bust cycles.
  - Adult-stage density-dependent mortality (e.g., disease, depletion-driven starvation) is not explicit. Current busts rely primarily on prey limitation acting via survival and recruit saturation.
  - Bleaching affects corals and indirectly COTS (via prey/survival), but larval performance may also be temperature- or food-modulated; currently only adult recruitment efficiency is temperature-modified.

3) Parameters review
- Many parameters are tagged as “literature” with plausible bounds (e.g., r_fast, r_slow, Topt_* and sigmaT_*), and others as “initial estimate” with reasonable ranges (e.g., k_bleach, K_prey, kc_carry).
- The current equation structure is generally consistent with the parameterization. However, for outbreak timing, the “local recruitment to adult class” (r0_recruit) applied to COTS_{t-1} implicitly assumes same-year maturation to adult, which is ecologically unrealistic for COTS and can distort cycles even when r0_recruit is tuned.

Chosen single improvement: Add a 2-year maturation delay for local recruitment to the adult class

Ecological reasoning
- COTS typically require roughly 1–3 years from spawning to join the observable adult class. This developmental delay introduces delayed density dependence, a well-known generator of oscillatory and boom–bust dynamics in ecological systems.
- Introducing a 2-year lag helps align outbreaks with earlier spawning stock and environmental conditions at the time of larval production, improving timing and persistence of peaks without adding new free parameters.
- This change targets the “Higher-order/indirect feedback” mechanism while keeping the model parsimonious. It is less invasive than adding multiple new parameters (e.g., density-dependent adult mortality), yet it captures a key life-history driver of episodic outbreaks.

Mathematical implementation (summary)
- Replace local recruitment driver from c_prev (COTS_{t-1}) to a lagged adult stock c_lag = COTS_{t-2}.
- Apply the same lag to the associated modifiers at the time of reproduction:
  - Use temperature two years prior (sst_{t-2}) for temp_repro.
  - Use prey availability two years prior (P_lag = pref_fast*fast_{t-2} + pref_slow*slow_{t-2}).
- Keep immigration and density regulation tied to conditions at settlement (t-1), i.e., imm_prev, c_prev, and current prey P, because those processes occur nearer to settlement/adult recruitment.
- Apply the Allee multiplier to the lagged spawner density (c_lag), since it is a property of reproductive success conditioned on spawner abundance at the time of spawning.

Edge handling
- For the first lagged step where t < 2, smoothly fallback to the previous-year values to avoid undefined indices:
  - c_lag = c_prev
  - P_lag = P
  - temp_repro_lag = temp_repro

Expected effects
- Outbreak peaks should be shifted to reflect spawner biomass and environmental conditions two years earlier, improving timing.
- The delay increases the potential for oscillations and can better reproduce rapid increases followed by collapses as prey depletes and delayed cohorts mature.
- Magnitudes remain governed by existing prey-, temperature-, and density-dependent terms; no new parameter is introduced, preserving identifiability.

Parameters.json changes
- None required. No new parameter introduced; existing values and bounds remain consistent with the updated structure.

Notes
- If future residual analysis shows overly prolonged peaks or insufficient bust severity, consider adding a simple adult density-dependent mortality factor exp(-m_dd_cots * COTS_{t-1}) to survival as a second-stage refinement. For now, the delay alone addresses a major structural gap essential for episodic outbreaks.
