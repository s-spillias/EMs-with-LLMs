Assessment of current model

1) Fit to data
- I do not have access to the residuals file in this chat, so I cannot quantitatively assess the model-data fit. Please provide the residuals so I can examine bias patterns (e.g., whether peaks are under/over-predicted, timing offsets, or systematic drift in coral components). In the absence of residuals, I assessed the process structure for its capacity to reproduce boom-bust dynamics.

2) Alignment with project context
- The model includes key mechanisms required for episodic COTS outbreaks and subsequent declines:
  - Prey-dependent adult survival (increasing with coral availability).
  - Temperature-modulated reproduction via a Gaussian performance curve.
  - A smooth Allee effect on recruitment (captures low-density failure).
  - Density regulation on recruitment (Beverton–Ricker style).
  - Multi-prey, preference-weighted Holling type II grazing on corals.
  - Coral growth with space limitation and temperature modulation, plus bleaching mortality.
  - An immigration term for external larval supply.

- These ingredients can produce boom–busts via resource feedback (outbreak consumes coral, prey limitation lowers survival and recruitment, population crashes). However, the recruitment pathway currently uses a simple Type-II-like prey limitation (P/(K_prey+P)), which may be too weakly nonlinear to reproduce sharp outbreak onsets and rapid collapses when coral cover falls.

3) Potential oversimplifications and missing processes
- Immigration settlement efficiency is not conditioned on local prey availability. Ecologically, post-settlement survival of recruits to the adult class will be strongly limited when prey is scarce (food and refuge). Unconditional immigration can sustain COTS above realistic levels during low prey periods, damping busts.
- Prey limitation in recruitment (local and immigrant) is Type-II in form. Empirically, many predator–prey and consumer–resource systems exhibit Type-III (sigmoidal) responses, which suppress recruitment at low prey and accelerate it once prey accumulate, producing more episodic dynamics.

Chosen improvement (one meaningful ecological change)

Add a Type-III prey limitation on COTS recruitment and immigrant settlement
- Introduce a single new parameter theta_recruit (dimensionless) that controls the nonlinearity of prey limitation in the recruitment pathway:
  - Local recruitment: r0_recruit * COTS_{t-1} * temp_repro * [P/(K_prey+P)]^{theta_recruit}
  - Immigration contribution to adult recruits: alpha_imm * cotsimm_{t-1} * [P/(K_prey+P)]^{theta_recruit}

- Ecological rationale:
  - When coral prey are scarce (post-outbreak), juvenile survival to the adult class should be strongly limited, curtailing recruitment even if larval supply exists. A Type-III form (theta_recruit > 1) suppresses recruitment at low prey and enables rapid increases once prey recover, helping reproduce sharp boom onset and robust busts.
  - Conditioning immigration on prey availability converts larval supply into realized recruitment only when the habitat can support new adults, avoiding unrealistic maintenance of adult densities during food scarcity.

- Expected effects on dynamics:
  - Sharper outbreak initiation when prey is abundant and temperatures favor reproduction.
  - Stronger crashes when coral cover is depleted, due to reduced realized recruitment (both local and from immigration).
  - This change works synergistically with the existing Allee effect and prey-dependent adult survival to improve timing and magnitude of boom–bust cycles.

Notes
- No current-time observations are used in process updates; only lagged state predictions and t-1 forcing are used.
- I kept all other structural elements unchanged. If residuals later indicate systematic bias (e.g., overly rapid or slow coral recovery), we could consider adding a mild refuge (Type-III) in the grazing function or clamping coral cover to [0, K_coral] as a numerical guard. For now, I implemented only the single change detailed above.

What to check next
- Please share the residuals so I can verify that peak magnitudes, outbreak durations, and inter-outbreak intervals improve. I will particularly look for:
  - Under-prediction of peaks (suggesting too-strong density regulation).
  - Over-prediction during low-prey periods (suggesting remaining recruitment leak).
  - Timing offsets relative to SST anomalies and immigration pulses.
