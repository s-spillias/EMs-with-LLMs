Assessment and alignment with PROJECT CONTEXT (NPZ mixed-layer model)

1) Model fit to data
- A residuals file was referenced but not provided here, so a quantitative assessment (bias, autocorrelation, heteroskedasticity) cannot be completed.
- Qualitatively, the structure is biologically coherent for a COTS–coral–SST system and uses sensible observation models (lognormal for COTS abundance; logit-normal for % covers).

2) Alignment with NPZ project context
- The current model simulates adult/juvenile COTS, fast/slow corals, and SST-driven processes. It does not represent NPZ state variables (N, P, Z) nor the mixed-layer mass balance typical of NPZ models.
- We introduced a pathway to include resource (phyto/nutrient) limitation of COTS larval recruitment via a Monod modifier f_N = N/(K_N + N). However, the external driver N_dat is not present in the current data inputs.

3) Missing or oversimplified ecological processes
- No explicit nutrient or phytoplankton state/driver (key for NPZ dynamics) and therefore no active resource limitation in recruitment with current inputs.
- No process noise in states (only observation error modeled).
- Coral growth has temperature/space effects but no nutrient/light limitation; COTS functional response assumes fixed conversion efficiency.
- Juvenile stage is aggregated (no time-to-maturity distribution), which may be acceptable at annual resolution.

Implementation status and fallback
- To avoid data-loading failures when N_dat is absent, the code now defaults to a neutral resource modifier f_N = 1.0 (no effect) while retaining the K_N parameter for future use. If and when N_dat is supplied, we can re-enable the Monod limitation simply by reading N_dat and setting f_N = N/(K_N+N).
- This preserves compatibility with existing datasets and compiles successfully without requiring changes to upstream data preparation.

Parameter review highlights
- Literature-based parameters (e.g., rF, rS, T_opt_bleach) appear plausible within this discrete-time framework.
- K_N remains in parameters.json with broad bounds but is inactive without N_dat. When an N_dat time series (e.g., chlorophyll-a) is provided, we recommend setting initial K_N near the median of N_dat and refining bounds accordingly.

Next steps when data are available
- Provide the residuals file and the N_dat driver series to activate and evaluate the nutrient limitation mechanism.
- Reassess residual structure after activation to check whether recruitment pulses align with nutrient/phyto anomalies and whether additional structural changes (e.g., variable efficiency or environmental modifiers on coral growth) are warranted.

Summary
- The model remains a COTS–coral–SST system with an optional hook for NPZ-consistent resource limitation on recruitment. With current inputs lacking N_dat, the modifier is neutral (f_N = 1), ensuring stable compilation and unchanged dynamics relative to the prior version.
