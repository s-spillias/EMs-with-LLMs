ASSESSMENT OF CURRENT MODEL:

The model implements COTS-coral dynamics with temperature effects, Allee effects, density-dependent processes, and Type II functional response for feeding. Analysis of residuals reveals:

1. COTS residuals show systematic patterns - large positive residuals early (underpredicting outbreaks) and negative later (overpredicting persistence)
2. Fast coral residuals are relatively well-distributed and small
3. Slow coral residuals show consistent underprediction (model predicts more slow coral loss than observed)

KEY FINDINGS:
1. The fixed feeding preference (currently 2.0) doesn't capture the dynamic shift in COTS feeding behavior as preferred coral becomes depleted
2. COTS are known to preferentially feed on fast-growing Acropora when abundant, but switch to slow-growing corals when Acropora is depleted
3. The current model structure cannot capture this behavioral plasticity, leading to poor predictions of slow coral dynamics

ECOLOGICAL JUSTIFICATION FOR IMPROVEMENT:

COTS feeding behavior is not fixed but responds to prey availability. When preferred fast-growing coral (Acropora) is abundant, COTS feed almost exclusively on it. However, as Acropora becomes depleted during outbreaks, COTS increasingly switch to feeding on slow-growing corals (massive Porites and Faviidae). This behavioral plasticity is critical for understanding:

1. Why slow-growing corals can persist during early outbreak phases
2. How slow-growing corals become vulnerable as outbreaks progress
3. The sequential depletion pattern observed in real COTS outbreaks

IMPLEMENTED IMPROVEMENT: Dynamic Feeding Preference

Instead of a fixed feeding_preference parameter, I've implemented a RESOURCE-DEPENDENT preference that decreases as fast coral becomes depleted:

EQUATION: Dynamic preference calculation
  relative_fast_availability = fast_curr / (fast_curr + slow_curr + eps)
  preference_modifier = exp(-preference_sensitivity * (preference_threshold - relative_fast_availability))
  dynamic_preference = base_preference * preference_modifier

This creates three behavioral regimes:

1. HIGH FAST CORAL (>threshold): Strong preference for fast coral (near base_preference value)
2. MODERATE FAST CORAL (≈threshold): Transitional feeding behavior
3. LOW FAST CORAL (<threshold): Reduced preference, more feeding on slow coral

PARAMETERS:
- base_preference: Maximum preference for fast coral when abundant (replaces old feeding_preference)
- preference_threshold: Relative fast coral abundance triggering preference shift (0-1 scale)
- preference_sensitivity: Steepness of preference decline as fast coral depletes

EXPECTED ECOLOGICAL BEHAVIOR:

Early outbreak phase:
- Fast coral abundant → high preference → fast coral rapidly depleted
- Slow coral experiences low predation pressure → persists

Mid outbreak phase:
- Fast coral declining → preference decreases → increased slow coral predation
- Sequential shift in coral community impact

Late outbreak phase:
- Fast coral depleted → low preference → COTS feed more equally on remaining corals
- Both coral types experience similar predation pressure

This mechanism directly addresses the PROJECT CONTEXT requirement for "selective predation on coral communities" with realistic behavioral plasticity, and should improve predictions of slow coral dynamics based on the residual patterns observed.

IMPLEMENTATION DETAILS:

1. Replaced fixed feeding_preference with three new parameters:
   - log_base_preference: maximum preference when fast coral is abundant
   - preference_threshold: fast coral proportion triggering behavioral shift (0.3-0.7 range)
   - log_preference_sensitivity: controls sharpness of preference decline

2. Modified effective attack rate calculation to use dynamic_preference instead of fixed feeding_preference

3. Added parameter bounds to ensure ecological realism:
   - base_preference: 1.0-10.0 (must prefer fast coral when abundant)
   - preference_threshold: 0.1-0.9 (reasonable range for behavioral shift)
   - preference_sensitivity: 1.0-20.0 (controls transition steepness)

This improvement maintains model parsimony while adding critical behavioral realism that should reduce systematic biases in slow coral predictions.
