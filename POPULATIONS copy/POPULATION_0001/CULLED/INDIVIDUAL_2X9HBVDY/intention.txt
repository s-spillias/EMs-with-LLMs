Assessment and rationale

Fit to data:
- Residuals: A residuals file was not provided in the current context. Please share it to quantify fit diagnostics (e.g., autocorrelation in COTS residuals, bias during outbreak onset/decline, coral composition bias). The improvement below specifically targets common misfits where outbreaks start too early at low coral cover and persist too long after coral depletion.

Alignment with PROJECT CONTEXT:
- Current model strengths:
  - Boom-bust mechanics: Allee effect, resource-limited mortality (starvation), and coral-dependent carrying capacity support rapid rise and collapse.
  - Environmental forcing: SST effects on COTS growth and coral bleaching are represented.
  - Trophic interactions: Multi-prey functional response with preferences and handling times.
  - External drivers: Immigration pulses and one-year lag.
- Gaps:
  - Outbreak initiation and maintenance are highly sensitive to prey (Acropora) availability, particularly during the juvenile-to-adult transition and adult fecundity. While fecundity scales with per-capita feeding and capacity scales with coral cover, there is no explicit modifier linking coral availability to settlement/post-settlement survival to adults.
  - This missing indirect pathway can cause outbreaks to initiate when coral is low (over-predicting recruitment) and delays the post-outbreak crash (under-predicting the bust) because recruitment does not sufficiently decline as coral declines.

Chosen improvement: Coral-dependent settlement/survival modifier
- Ecological reasoning:
  - Laboratory and field evidence indicate that early post-settlement survival and the transition to corallivory require sufficient prey availability; success is higher where fast-growing corals dominate.
  - Representing this as a logistic modifier of recruitment captures threshold-like behavior: outbreaks are favored when (weighted) coral cover exceeds a threshold and suppressed when coral is scarce.
- Mathematical form:
  - Define C_comp = w_settle_F * F_prev + w_settle_S * S_prev (percent cover).
  - Settlement/survival modifier: f_settle = invlogit(k_settle * (C_comp - c_settle50)).
  - Apply to recruitment: recruit = rA * f_SST_A * Phi_A * fecundity_boost * f_settle * A_prev / (1 + A_prev / (K_A + tiny)).
- Why this balances complexity:
  - Adds four scalar parameters, no new state variables, and uses only previous-step states (no data leakage).
  - Improves outbreak timing and truncates recruitment after prey depletion, better matching observed boom-bust cycles.

Parameter updates (added):
- w_settle_F, w_settle_S: Relative weight of fast vs. slow coral in settlement/survival (0–1). Initial values 0.7, 0.3 reflect greater importance of Acropora.
- c_settle50: Coral cover (weighted) at which the modifier is 0.5 (0–60%). Initial 20% reflects typical thresholds for robust COTS performance.
- k_settle: Steepness (per % cover) of the logistic response (0.01–1.0). Initial 0.3 gives a moderately sharp transition.

Implementation notes:
- Only previous-step states (F_prev, S_prev) are used in f_settle; no current observations enter predictions.
- A soft penalty encourages w_settle_F + w_settle_S ≈ 1 to avoid overparameterization.
- Existing mechanisms (Allee, starvation, SST, K_A) are retained; f_settle acts specifically on recruitment success to capture the indirect pathway.

Next steps for validation:
- Please provide the residuals time series. We will examine outbreak onset timing errors, duration biases, and composition-linked misfit to tune c_settle50 and k_settle, and assess whether w_settle weights collapse to simpler structures (e.g., fast-coral only).
