Purpose: Build a mechanistic, data‑driven Template Model Builder (TMB) model to capture episodic Crown‑of‑Thorns starfish (COTS) outbreaks on the Great Barrier Reef, explicitly predicting timing, magnitude, and duration of boom‑bust cycles, while accounting for selective predation impacts on fast‑growing Acropora (fast) and slow‑growing Faviidae/Porites (slow) corals.

Core ecological functioning:
- State variables: Adult COTS density (individuals/m2), fast coral cover (%), slow coral cover (%).
- Space limitation: Coral growth is limited by free space via a smooth saturating (softplus) function of available substrate. Fast and slow corals also interact via symmetric competition.
- Feeding and preference: COTS predation on coral uses a multi‑prey Holling type III functional response with softmax preferences for fast vs slow corals. Predator functional response saturates with COTS density, and total consumption cannot exceed a smooth fraction of available coral.
- Boom‑bust driver: COTS recruitment increases with prey availability via a smooth threshold on total coral cover and is modulated by sea surface temperature (SST). Immigration pulses (data) add to recruitment. Busts arise from resource depletion feedback and density‑dependent mortality.
- Environmental modifiers: SST modifies coral growth and COTS recruitment. Heat stress causes additional coral mortality via a smooth (logistic) bleaching response above a thermal threshold; impacts are stronger for fast corals.
- Indirect effects and feedbacks: Coral loss reduces future COTS recruitment (food threshold), while high COTS density depresses coral; density‑dependent COTS mortality collapses outbreaks even when prey remains.

Numerical and statistical treatment:
- Discrete yearly time‑step; next‑step states depend only on previous predictions (no data leakage).
- Initial conditions are set to the first observations for each state.
- Observation models: COTS with lognormal errors; coral covers with logit‑normal errors to respect 0–100% bounds. Minimum standard deviations are enforced.
- Parameters are softly bounded with penalties; all transitions use smooth functions (softplus/logistic) with small constants to avoid divide‑by‑zero and other numerical issues.

Outputs:
- Time series predictions cots_pred (individuals/m2), fast_pred (%), slow_pred (%), plus auxiliary diagnostics (consumption components, thermal stress, recruitment) for interpretation and validation of outbreak timing and magnitude.
