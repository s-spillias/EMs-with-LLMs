You are a leading expert in constructing dynamic ecosystem models. You always use robust ecological theory to construct your models, which will be used for predicting future ecosystem states given data on initial conditions. Please create a Template Model Builder model for the following topic:Modeling episodic outbreaks of Crown of Thorns starfish on the Great Barrier Reef, with emphasis on accurately capturing the timing, magnitude, and duration of population explosions. The model should predict the characteristic boom-bust cycles where COTS numbers rapidly increase to outbreak levels then decline, while accounting for their selective predation on coral communities (slow-growing Faviidae and Porites, and fast-growing Acropora species). Special attention should be given to mechanisms that trigger and sustain outbreak events.. Start by writing intention.txt, in which you provide a concise summary of the ecological functioning of the model. In model.cpp, write your TMB model with the following important considerations:

1. ECOLOGICAL PROCESSES:
- Consider multiple forms of resource limitation (e.g., saturating functions, threshold effects)
- Include process-specific efficiencies where biologically relevant
- Think about how environmental conditions might modify rates
- Consider indirect effects and feedback loops between components
- Use functional responses that capture observed biological behaviors

2. NUMERICAL STABILITY:
- Always use small constants (e.g., Type(1e-8)) to prevent division by zero
- Use smooth transitions instead of hard cutoffs in equations
- Bound parameters within biologically meaningful ranges using smooth penalties rather than hard constraints
  (and propose numeric lower/upper bounds per parameter when applicable; see parameters.json spec below)

3. LIKELIHOOD CALCULATION:
- Always include observations in the likelihood calculation, don't skip any based on conditions
- Use fixed minimum standard deviations to prevent numerical issues when data values are small
- Consider log-transforming data if it spans multiple orders of magnitude
- Use appropriate error distributions (e.g., lognormal for strictly positive data)

4. MODEL STRUCTURE:
- Include comments after each line explaining the parameters (including their units and how to determine their values)
- Provide a numbered list of descriptions for the equations
- Ensure all _pred variables are included in the reporting section and called using REPORT()
- Use '_pred' suffix for model predictions corresponding to '_dat' observations. Use the same _dat names as are found in the data file. Use the exact same time variable name as is provided in the first column of the datafile.
- IMPORTANT: Never use current time step values of response variables (variables ending in '_dat') in prediction calculations. Only use values from previous time steps to avoid data leakage.
- INITIAL CONDITIONS: Initialize your prediction vectors with the first data point using **name**_dat(0). For example: var1_pred(0) = var1_dat(0); var2_pred(0) = var2_dat(0); var3_pred(0) = var3_dat(0). This ensures initial conditions are drawn directly from the observed data rather than being optimization parameters.

For the parameters.json file, please structure it as an array of parameter objects, where each parameter object must include the following fields:
- parameter: The name of the parameter matching the model.cpp
- value: The initial value for the parameter
- description: A clear description of what the parameter represents, including units
- source: Where the initial value comes from. IMPORTANT: If the source contains the word 'literature', this will automatically trigger downstream literature searches using Semantic Scholar and other academic databases to find citations and refine parameter values. Use 'literature' only when you want the system to search for academic papers. Use 'initial estimate' for parameters that are unlikely to have reported values in the literature.
- import_type: Should be 'PARAMETER' for model parameters, or 'DATA_VECTOR'/'DATA_SCALAR' for data inputs
- priority: A number indicating the optimization priority (1 for highest priority parameters to optimize first)
- lower_bound (optional): Suggested biological lower bound as a number, or null if not applicable
- upper_bound (optional): Suggested biological upper bound as a number, or null if not applicable

Example structure:
{
  "parameters": [
    {
      "parameter": "growth_rate",
      "value": 0.5,
      "units": "dimensionsless | year ^-1",
      "description": "Intrinsic growth rate (year^-1)",
      "source": "literature",
      "import_type": "PARAMETER",
      "priority": 1,
      "lower_bound": 0.0,
      "upper_bound": null
    }
  ]
}
Warning: Input is not a terminal (fd=4).
Skipping POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/model.cpp that matches gitignore spec.
Creating empty file POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/model.cpp
Skipping POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/parameters.json that matches gitignore spec.
Creating empty file POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/parameters.json
Skipping POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/intention.txt that matches gitignore spec.
Creating empty file POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/intention.txt
Added /home/spi085/Documents/_Projects/EMs-with-LLMs/Data/timeseries_data_COTS_response.csv to read-only files.
Added /home/spi085/Documents/_Projects/EMs-with-LLMs/Data/timeseries_data_COTS_forcing.csv to read-only files.
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 0.2 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 0.5 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 1.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 2.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 4.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 8.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 16.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 32.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known

Initialized new individual: POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6
Validating model for data leakage...
Opening file: POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': False, 'uses_data_macros': False, 'uses_vector_type': False, 'uses_standard_report': False, 'uses_objective_function': False, 'uses_std_vector': False, 'uses_string_report': False}

Warnings found in model:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.

Model contains data leakage issues - marking as broken
Fixing broken model iteration: 0
pre-error maybe
Issue with model set-up:Data leakage detected in model equations:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 0.2 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 0.5 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 1.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 2.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 4.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 8.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -2] Name or service not known
Retrying in 16.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 32.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution

Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': False, 'uses_data_macros': False, 'uses_vector_type': False, 'uses_standard_report': False, 'uses_objective_function': False, 'uses_std_vector': False, 'uses_string_report': False}

Warnings found in fixed model:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.

Fixed model still contains data leakage issues
Fixing broken model iteration: 1
pre-error maybe
Issue with model set-up:Data leakage detected in model equations:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 0.2 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 0.5 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 1.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 2.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 4.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 8.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 16.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 32.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution

Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': False, 'uses_data_macros': False, 'uses_vector_type': False, 'uses_standard_report': False, 'uses_objective_function': False, 'uses_std_vector': False, 'uses_string_report': False}

Warnings found in fixed model:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.

Fixed model still contains data leakage issues
Fixing broken model iteration: 2
pre-error maybe
Issue with model set-up:Data leakage detected in model equations:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 0.2 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 0.5 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 1.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 2.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 4.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 8.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 16.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 32.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution

Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': False, 'uses_data_macros': False, 'uses_vector_type': False, 'uses_standard_report': False, 'uses_objective_function': False, 'uses_std_vector': False, 'uses_string_report': False}

Warnings found in fixed model:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.

Fixed model still contains data leakage issues
Fixing broken model iteration: 3
pre-error maybe
Issue with model set-up:Data leakage detected in model equations:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 0.2 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 0.5 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 1.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 2.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 4.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 8.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 16.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 32.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution

Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': False, 'uses_data_macros': False, 'uses_vector_type': False, 'uses_standard_report': False, 'uses_objective_function': False, 'uses_std_vector': False, 'uses_string_report': False}

Warnings found in fixed model:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.

Fixed model still contains data leakage issues
Fixing broken model iteration: 4
pre-error maybe
Issue with model set-up:Data leakage detected in model equations:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 0.2 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 0.5 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 1.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 2.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 4.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 8.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 16.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution
Retrying in 32.0 seconds...
litellm.APIConnectionError: APIConnectionError: OpenrouterException - [Errno -3] Temporary failure in name resolution

Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': False, 'uses_data_macros': False, 'uses_vector_type': False, 'uses_standard_report': False, 'uses_objective_function': False, 'uses_std_vector': False, 'uses_string_report': False}

Warnings found in fixed model:
  This file does not follow standard TMB conventions. Issues detected:
  - Missing DATA_VECTOR() macros for data inputs
  - Missing vector<Type> declarations

The model should be rewritten to follow TMB conventions.

Fixed model still contains data leakage issues
Maximum sub-iterations reached for POPULATIONS/POPULATION_0003/INDIVIDUAL_I6UXH3A6. The model could not be successfully run after 5 attempts.
