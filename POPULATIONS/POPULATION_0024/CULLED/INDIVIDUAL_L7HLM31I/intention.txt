MODEL ASSESSMENT AND IMPROVEMENT PLAN

CURRENT MODEL EVALUATION:
1. The Allee effect implementation has a bug - the normalization by (1.0 + eps) in Equation 1 removes the intended demographic effect
2. Parameter updates from literature (log_mort_base, log_temp_opt) are now well-constrained, suggesting these processes are accurately represented
3. The model lacks a key mechanism for episodic COTS outbreaks: nutrient-driven larval recruitment pulses linked to flood events
4. Current recruitment is oversimplified - it doesn't capture the non-linear interaction between larval supply and environmental conditions that triggers outbreaks

ECOLOGICAL JUSTIFICATION FOR IMPROVEMENT:
Crown-of-Thorns outbreaks on the Great Barrier Reef are strongly associated with:
- Flood events delivering terrestrial nutrients (nitrogen, phosphorus) to coastal waters
- Enhanced phytoplankton production providing food for COTS larvae
- High larval survival during nutrient-rich periods
- Synergistic effects between larval supply, nutrients, and optimal temperatures

The boom-bust cycle characteristic of COTS requires:
- Threshold-like recruitment responses (not just linear enhancement)
- Separation of baseline vs. outbreak recruitment
- Environmental windows that allow explosive population growth

PROPOSED CHANGES:

1. FIX ALLEE EFFECT BUG:
   - Remove incorrect normalization in Equation 1
   - Ensure allee_factor properly ranges from 0 to 1

2. ADD NUTRIENT DRIVER (CURRENTLY USING DEFAULT):
   - Nutrient data input (nutrient_dat) is defined in parameters but not yet available in data file
   - Model currently uses default baseline nutrient level of 0.3 (on 0-1 scale)
   - When nutrient data becomes available, it will represent flood-driven nutrient pulses
   - This allows model to compile and run while awaiting nutrient time series data

3. IMPLEMENT NON-LINEAR RECRUITMENT PULSE:
   - Add log_recruit_baseline: baseline recruitment rate (year^-1)
   - Add log_recruit_pulse: maximum pulse recruitment during optimal conditions (year^-1)
   - Add log_nutrient_threshold: nutrient level triggering enhanced recruitment (dimensionless)
   - Add nutrient_sensitivity: steepness of recruitment response to nutrients (dimensionless)
   
4. NEW RECRUITMENT EQUATION:
   - Baseline recruitment: always active, density-dependent
   - Pulse recruitment: activated when nutrients exceed threshold, multiplicative with temperature and immigration
   - Uses sigmoidal response to nutrients to create threshold behavior
   - Separates outbreak initiation from maintenance dynamics

MATHEMATICAL FORM:
Recruitment = Baseline + Pulse
- Baseline = recruit_baseline * cots * (1 - cots/K) * allee_factor
- Pulse = recruit_pulse * cots * nutrient_response * temp_effect * immigration_boost
- nutrient_response = 1 / (1 + exp(-nutrient_sensitivity * (nutrients - nutrient_threshold)))

This creates episodic recruitment pulses when environmental conditions align, capturing the boom phase of outbreaks, while baseline recruitment maintains populations between events.

CURRENT STATUS:
- Model structure is ready for nutrient-driven outbreak dynamics
- Using default nutrient level (0.3) until actual nutrient time series is provided
- All new parameters are defined and ready for calibration
- Allee effect bug has been fixed

EXPECTED OUTCOMES (once nutrient data is available):
- Better capture of outbreak timing (linked to nutrient pulses)
- More realistic boom-bust dynamics with rapid population increases
- Improved prediction of outbreak magnitude and duration
- Mechanistic link between environmental drivers and population explosions
