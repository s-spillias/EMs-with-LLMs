MODEL ASSESSMENT AND IMPROVEMENT PLAN
=====================================

CURRENT MODEL EVALUATION:
-------------------------
The model includes important mechanisms for COTS population dynamics:
- Allee effects at low density
- Temperature-dependent recruitment
- Gregarious larval settlement
- Density-dependent mortality
- Type II functional responses for coral predation
- Competition between coral functional groups

However, the model is missing a CRITICAL mechanism for episodic outbreak dynamics.

KEY ECOLOGICAL GAP IDENTIFIED:
------------------------------
The model lacks nutrient-mediated larval survival, which is the primary trigger for COTS outbreaks on the Great Barrier Reef. 

Scientific evidence shows that:
1. COTS larvae require phytoplankton food during their 2-4 week pelagic phase
2. Flood events deliver nutrients to coastal waters, triggering phytoplankton blooms
3. These blooms dramatically increase larval survival (potentially 10-100x)
4. High larval survival creates cohorts that develop into outbreak populations 2-3 years later
5. Without nutrient pulses, larval survival is extremely low (<1%), maintaining low baseline populations

The current model treats larval immigration as a constant input modulated only by settlement success. This cannot capture the episodic nature of outbreaks driven by stochastic environmental events.

PROPOSED IMPROVEMENT (DEFERRED):
--------------------------------
The nutrient-mediated larval survival mechanism has been designed but requires additional data preparation:

1. REQUIRED DATA INPUT: nutrient_index_dat
   - A time series representing nutrient availability (e.g., from river discharge, chlorophyll-a, or rainfall)
   - Must match the length of the time series
   - Can be normalized (0-1) or represent actual nutrient concentrations

2. PARAMETERS READY FOR IMPLEMENTATION:
   - log_larval_survival_base: Baseline larval survival rate in low-nutrient conditions (very low, ~0.001-0.01)
   - nutrient_effect_strength: Sensitivity of larval survival to nutrient pulses (dimensionless, 1-10x)
   - log_nutrient_threshold: Half-saturation constant for nutrient effect (Michaelis-Menten)

3. IMPLEMENTATION STATUS:
   - Parameters are defined in parameters.json
   - Equations are ready in model.cpp but currently disabled
   - Awaiting nutrient data time series to activate this mechanism

CURRENT MODEL VERSION:
---------------------
This version operates WITHOUT the nutrient mechanism. The model uses:
- Constant larval immigration (cotsimm_dat)
- Settlement success modulated by substrate availability, gregarious attraction, and temperature
- This provides a baseline model that can be compared against the nutrient-enhanced version

ECOLOGICAL JUSTIFICATION FOR NUTRIENT MECHANISM:
------------------------------------------------
When nutrient data becomes available, this improvement will directly address the PROJECT CONTEXT requirement to capture "the timing, magnitude, and duration of population explosions" and "mechanisms that trigger and sustain outbreak events."

The nutrient pulse mechanism will:
- Provide the environmental trigger for outbreaks (timing)
- Allow for variable outbreak magnitude based on nutrient pulse intensity
- Create realistic boom-bust cycles: high nutrients → high larval survival → outbreak → coral depletion → population crash
- Maintain low baseline populations between outbreaks (when nutrients are low)
- Is supported by extensive field evidence from GBR monitoring

MATHEMATICAL FORM (READY FOR ACTIVATION):
-----------------------------------------
Using a Michaelis-Menten (saturating) response for nutrient effects because:
1. Larval survival cannot increase indefinitely with nutrients
2. There's a physiological maximum survival rate
3. This creates a threshold effect: small nutrient pulses have little impact, but large pulses trigger outbreaks
4. Biologically realistic for resource-dependent processes

The equation (currently commented out in code):
nutrient_effect = 1.0 + (nutrient_effect_strength - 1.0) * (nutrient / (nutrient + nutrient_threshold))
larval_survival = larval_survival_base * nutrient_effect

EXPECTED OUTCOMES WITH NUTRIENT MECHANISM:
------------------------------------------
Once activated with appropriate data, the model should:
1. Maintain low COTS densities during periods of low nutrient input
2. Generate rapid population increases following nutrient pulse events
3. Produce characteristic boom-bust cycles with realistic timing
4. Better match observed outbreak patterns on the GBR
5. Allow prediction of outbreak risk based on environmental conditions

PARAMETER VALUE CONSIDERATIONS:
------------------------------
The updated temp_stress_threshold (32.25°C) from literature suggests coral thermal tolerance is higher than initially assumed. This is appropriate and doesn't require structural changes - the existing quadratic stress formulation remains valid.

The gregarious settlement parameters (gregarious_strength=2.0, threshold=0.05) may need adjustment during fitting, but the functional form is appropriate for capturing positive density-dependent settlement.

NEXT STEPS:
-----------
1. Obtain or construct nutrient_index_dat time series
2. Uncomment nutrient mechanism in model.cpp
3. Fit model with nutrient effects
4. Compare model performance with and without nutrient mechanism
5. Validate against independent outbreak data
