Objective: Build a robust, process-based TMB model for episodic Crown-of-Thorns starfish (COTS; Acanthaster spp.) outbreaks on the Great Barrier Reef that reproduces the characteristic boom–bust cycles and their impacts on coral communities. The model predicts the timing, magnitude, and duration of outbreaks by explicitly coupling COTS dynamics to the availability of prey (fast-growing Acropora, slow-growing Faviidae/Porites) and environmental drivers (sea-surface temperature; exogenous larval immigration).

Core ecological functioning:
- Food-dependent COTS population growth with depensation (Allee effect) and density dependence: COTS reproduction and survival increase with prey availability (preference for Acropora) following a saturating food function; an Allee-type logistic depensation term allows rapid transitions into/out of outbreak states; quadratic density-dependent limitation produces busts after booms.
- Coral dynamics with competition and COTS grazing: Fast (Acropora) and slow (Faviidae/Porites) corals each grow logistically toward group-specific carrying capacities with cross-group competition. COTS graze corals via a Holling type II functional response, with prey selectivity. Grazing reduces coral cover, feeding back to reduce future COTS growth.
- Environmental modification of rates: Temperature modifies coral growth and COTS reproductive performance through smooth Gaussian response curves centered on taxon-specific thermal optima. Exogenous larval immigration pulses add to COTS recruitment.
- Multiple resource limitation and efficiencies: COTS reproduction is limited by prey availability (saturating function) and modified by temperature and depensation; conversion efficiency links consumed coral to COTS recruitment. Coral loss to grazing includes process-specific conversion from feeding rate to cover removed.
- Smooth, stable numerics: All transitions and bounds use smooth functions (e.g., softplus, logistic) with small constants to avoid division-by-zero and ensure positive states. Parameters are softly penalized toward biologically plausible ranges.

Data and predictions:
- Inputs: time (Year), COTS density (individuals m^-2), fast- and slow-coral cover (%), temperature (°C), and COTS larval immigration (individuals m^-2 yr^-1).
- Predictions: Time series of COTS density and coral covers initialized to the first observation and propagated forward without using future observations (no data leakage). Likelihood uses lognormal errors for positive COTS density and normal errors for coral cover with minimum standard deviations.
