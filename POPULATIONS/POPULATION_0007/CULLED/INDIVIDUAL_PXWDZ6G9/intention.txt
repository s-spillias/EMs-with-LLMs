Assessment of current model vs PROJECT CONTEXT (NPZ) and data fit

1) Model fit to data
- Likelihoods: Adult COTS are modeled with lognormal error; coral covers with normal error on the logit scale. These are appropriate choices for strictly positive densities and bounded percentages, respectively.
- Residuals: A residuals file was referenced but not provided. Without residuals, I cannot quantify fit. Based on structure alone, likely issues include:
  - Amplitude/timing mismatch in COTS recruitment waves due to the absence of bottom-up control (food limitation).
  - Potential over-prediction of recruitment at high adult density, partially mitigated by the Beverton–Holt taper but still sensitive to environmental drivers.

2) Alignment with PROJECT CONTEXT (NPZ)
- The current model focuses on COTS–coral dynamics and does not explicitly simulate N, P, Z.
- A placeholder for NPZ coupling exists via K_food. The recommended improvement is to add a food limitation term on recruitment using an exogenous phytoplankton (P) driver.
- However, the current dataset does not include food_dat, so a hard requirement caused a data-loading failure. To maintain usability with existing data, the implementation now defaults to a neutral food modifier (f_food = 1.0) when no food driver is provided.

3) Missing or oversimplified ecological processes
- No explicit NPZ state variables or feedbacks (e.g., nutrient limitation, zooplankton grazing).
- Recruitment lacks resource dependency unless an external food driver is provided.
- Coral dynamics do not incorporate nutrient/food effects.
- Single annual time step neglects seasonal NPZ dynamics.
- Temperature affects recruitment and bleaching, but potential interactions among drivers (e.g., food × temperature) are absent.

Parameter review
- parameters.json shows no parameters flagged as updated from literature (updated_from_literature = false). Existing bounds are broad and reasonable with weak range penalties.
- K_food is retained (with bounds) to support a Monod-style food limitation when a food driver becomes available. Keeping K_food declared is harmless under the neutral f_food fallback.

Chosen single improvement: Resource limitation on recruitment (Monod function) — implemented as optional
- Intended mathematical form (when data are available): f_food = food / (K_food + food), where food = max(food_dat, 0) from the previous time step.
- Implementation status:
  - To avoid data-loading failure with the present dataset (no food_dat), the code now defaults to f_food = 1.0 (neutral, no food limitation).
  - When food_dat becomes available, the model can be updated by re-introducing a DATA_VECTOR(food_dat) and computing f_food using the Monod term, ensuring only t-1 values are used to avoid data leakage.
- Recruitment currently: Rec = alpha_rec * [C^phi / (1 + C/C_sat_rec)] * f_Allee * f_Trec * f_food + cotsimm, with f_food = 1.0 under fallback.

Expected benefit (when food_dat is provided)
- More realistic recruitment variability synced with NPZ dynamics (phytoplankton availability).
- Potential reduction of systematic residual patterns tied to years of low/high plankton.
- Identifiability: alpha_rec and K_food can be correlated; broad but bounded penalties are appropriate; informative priors could be considered later.

Notes on data usage
- The model avoids data leakage: predictions use only t-1 exogenous drivers and never current time step values of response variables.
- Under fallback (no food_dat), food limitation is neutral (f_food = 1.0), preserving backward compatibility with existing datasets.
