ASSESSMENT OF CURRENT MODEL:

The current model includes age-structured COTS dynamics (juveniles and adults), two coral functional groups, and environmental forcing through temperature and nutrients. However, it lacks a critical component for capturing episodic outbreak dynamics: explicit larval pool dynamics.

IDENTIFIED GAP:

The current model treats larval recruitment as instantaneous - favorable conditions immediately produce juveniles in the same time step. This oversimplifies COTS ecology where:

1. Larvae spend 2-4 weeks in the plankton before settlement
2. Multiple consecutive years of favorable conditions are often required for outbreaks
3. There is a temporal lag between spawning events and observable population increases
4. Larval accumulation creates "memory" effects in the system

This gap is critical for the PROJECT CONTEXT because COTS outbreaks are characterized by:
- Delayed responses to environmental triggers
- Explosive recruitment events following periods of larval accumulation
- Boom-bust cycles that depend on larval pool dynamics

PROPOSED IMPROVEMENT:

Add an explicit LARVAL POOL compartment to the model that:

1. Accumulates larvae from:
   - Local adult reproduction (spawning)
   - External larval immigration (connectivity)

2. Experiences losses from:
   - Planktonic mortality (predation, starvation, advection)
   - Settlement to juvenile stage

3. Settlement rate depends on:
   - Larval pool density (more larvae = more settlement)
   - Available coral substrate (settlement habitat requirement)
   - Environmental conditions (temperature, nutrients affecting settlement success)
   - Density-dependent settlement (competition for space)

ECOLOGICAL JUSTIFICATION:

This improvement captures the temporal dynamics essential for episodic outbreaks:

- TIMING: Larvae must accumulate over multiple favorable seasons before mass settlement
- MAGNITUDE: Large larval pools enable explosive recruitment events characteristic of outbreaks
- DURATION: Larval pool depletion after settlement creates natural boom-bust cycles
- REALISM: Separates spawning from recruitment, matching COTS life history

MATHEMATICAL IMPLEMENTATION:

New state variable: L (larval pool density)

dL/dt = adult_spawning + immigration - larval_mortality * L - settlement_rate

where:
- adult_spawning = r_cots * adult * allee_effect * temp_effect (existing reproduction term)
- immigration = cotsimm_dat (existing forcing)
- larval_mortality = m_larvae * L (new parameter for planktonic mortality)
- settlement_rate = settlement_efficiency * L * habitat_availability * environmental_suitability

This creates a 4-compartment model: Larvae -> Juveniles -> Adults, with Coral providing feedback through habitat availability and food resources.

EXPECTED OUTCOMES:

1. Better capture of outbreak timing through larval accumulation dynamics
2. More realistic boom-bust cycles with appropriate lag times
3. Improved representation of how multiple favorable years compound to trigger outbreaks
4. Explicit mechanism for episodic vs. chronic outbreak patterns

NEW PARAMETERS REQUIRED:

- log_m_larvae: Log planktonic larval mortality rate (higher than juvenile mortality)
- log_settlement_efficiency: Log baseline settlement success rate
- settlement_habitat_dependence: Strength of coral substrate requirement for settlement
- log_settlement_saturation: Log density at which settlement becomes self-limiting
