Goal: Build a robust, process-based Template Model Builder (TMB) model to reproduce and predict episodic Crown-of-thorns starfish (COTS; Acanthaster spp.) outbreaks on the Great Barrier Reef, with explicit representation of food limitation, selective predation on coral functional groups, environmental forcing, and outbreak triggers. The model captures boom–bust cycles by combining (i) resource-modified COTS population growth and immigration surges, (ii) coral community dynamics under logistic competition, and (iii) selective, saturating predation that feeds back to limit future COTS growth.

Core ecological functioning:
- State variables: adult COTS abundance (individuals m^-2), fast-growing coral cover (Acropora; %), slow-growing coral cover (Faviidae/Porites; %).
- Forcing variables: Sea-surface temperature (°C) and COTS larval immigration (individuals m^-2 year^-1).
- Outbreak trigger and sustainment:
  1) Immigration pulses are converted to recruits with a sigmoidal (smooth-threshold) trigger and temperature-modulated larval survival.
  2) COTS intrinsic growth is limited by food through a two-part resource limitation: a classical saturating (Michaelis–Menten) term and a smooth threshold that suppresses growth when edible coral is scarce.
  3) Temperature modifies both COTS performance and coral growth with Gaussian thermal performance curves around taxon-specific optima.
- Feedbacks and indirect effects:
  - COTS predation follows a Holling type III functional response on a weighted edible coral index (fast weighted more than slow), producing low predation at low coral cover, accelerating predation near outbreak peaks, and saturation at high prey.
  - Predation disproportionately removes fast coral (preferred prey), reducing food availability and thereby limiting subsequent COTS growth (boom–bust).
  - Corals grow logistically with competition for space (fast and slow share carrying capacity), suffer background mortality, and are reduced by COTS predation allocated by preference and availability.
- Numerical safeguards:
  - Smooth functions (logistic, Gaussian) avoid hard cutoffs.
  - Small constants prevent division by zero; smooth positive-part operators avoid negative biomasses.
  - Observation models use positive-support distributions with minimum variances.

Outputs:
- Time series predictions for cots_dat_pred, fast_dat_pred, and slow_dat_pred aligned with observations (Year).
- Reported intermediate drivers (edible index, temperature modifiers, predation rates) to diagnose outbreak timing, magnitude, and duration.

Intended use:
- Fit to historical GBR time series to estimate parameters, then forecast under scenarios of temperature and larval immigration to evaluate outbreak risks and coral impacts.
