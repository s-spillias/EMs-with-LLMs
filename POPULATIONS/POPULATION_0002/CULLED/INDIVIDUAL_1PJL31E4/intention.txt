Assessment and rationale for model refinement (COTS outbreaks on GBR)

1) Fit to data
- We could not locate the residuals file in the provided context, so a quantitative assessment of fit (e.g., residual patterns, RMSE) is not possible here.
- Structurally, the model uses all observations in the likelihood (lognormal for COTS, logit-normal for coral) with SD floors for stability, which is appropriate.
- Initial conditions are taken from the first observed values and subsequent states are forecast strictly from previous predictions and forcings (no data leakage), which is correct.

2) Alignment with project context (episodic outbreaks, selective predation)
Strengths:
- Boom-bust mechanisms exist: positive feedback via food-dependent reproduction and survival, negative feedback via coral depletion by predation, and Ricker-type density dependence with an Allee gate.
- Selective predation is represented: separate predation parameters and saturating responses on fast (Acropora) vs slow coral.
- Environmental modifiers: SST affects larval survival and coral growth; bleaching mortality increases smoothly with temperature.

Potential gaps:
- Outbreak triggering can be sensitive to settlement success, which field studies suggest is disproportionately driven by fast Acropora availability and habitat quality. The current “Food” term mixes fast and slow coral and primarily affects fecundity and adult survival, but settlement/survival of early life stages may depend more steeply on fast coral than the adult feeding mixture implies.
- Other potentially important processes (multi-year juvenile stage, watershed-derived nutrient pulses, predator control) are omitted for parsimony; adding them would increase complexity and data requirements.

3) Parameters and potential oversimplifications
- Topt_larv bounds were updated from literature; the Gaussian larval SST response remains appropriate.
- Predation saturation shape q_pred is flexible (Type II–III).
- Placeholders such as K_food and preference are present, but there is no explicit term linking fast coral specifically to larval settlement/survival beyond the mixed Food index.

Chosen improvement: Fast-coral-dependent settlement success
Ecological motivation:
- Empirical evidence indicates that COTS recruitment often surges when high-cover Acropora habitats are available; early post-settlement survival tends to be much higher in such conditions.
- This provides a stronger, more threshold-like trigger for outbreaks: when Acropora is abundant, recruitment efficiency sharply increases; once predation reduces Acropora, subsequent recruitment collapses, enabling busts.

Mathematical change (one additional modifier in reproduction):
- Define a settlement success factor driven by fast coral (F_t) using a Hill function with baseline:
  Settle_t = w_settle + (1 - w_settle) * Hill(F_t; K_settle, q_settle)
  where Hill(x; K, q) = x^q / (K^q + x^q).
- Modify larval production:
  L_t = phi * C_t * Food_t * EnvLarv_t * Settle_t * exp(-beta * C_t) * A_gate_t + k_imm * cotsimm_dat(t)

Interpretation:
- w_settle (0..1) is the baseline settlement/survival fraction when fast coral is scarce.
- K_settle (% cover) is the fast-coral half-saturation for settlement success.
- q_settle (>1) controls threshold steepness; larger values increase nonlinearity and can sharpen outbreak onset.

Why this is appropriate and parsimonious:
- Adds only one multiplicative pathway and three scalar parameters but captures an ecologically supported indirect feedback that can generate realistic boom-bust dynamics and outbreak timing.
- Leaves existing food limitation and adult survival structure intact and avoids introducing additional state variables or unobserved environmental inputs.

Implementation notes:
- Added parameters: log_K_settle, log_q_settle, logit_w_settle with soft biological bounds to maintain realistic ranges.
- No change to observation models or use of current-time observations in state updates (no data leakage). The new term uses only previous step predictions (F_t).
- If residuals become available, examine whether outbreak peaks and post-peak crash timing improve; look for reduced positive residuals at outbreak onset and reduced negative residuals during post-outbreak collapse.

Suggested initial values and bounds:
- K_settle ~ 10% cover (log_K_settle ≈ 2.30), plausible range 2–40%.
- q_settle ~ 3 (log_q_settle ≈ 1.10), plausible range 1–6 to allow threshold-like responses.
- w_settle ~ 0.10 (logit ≈ -2.20), bounds on logit (-5, 5) to remain weakly informative.

Files changed:
- model.cpp: implemented Settle_t term and added transformed parameters, penalties, and reports.
- parameters.json: added entries for log_K_settle, log_q_settle, logit_w_settle with descriptions and bounds.
