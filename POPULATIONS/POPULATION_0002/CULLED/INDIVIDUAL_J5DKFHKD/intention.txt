Purpose: Build a mechanistic, annually resolved Template Model Builder (TMB) model that reproduces episodic Crown-of-Thorns starfish (COTS) outbreaks and their boom–bust dynamics on the Great Barrier Reef while capturing selective predation on coral functional groups (fast-growing Acropora vs. slow-growing Faviidae/Porites). The model links environmental drivers (sea-surface temperature, larval immigration pulses) to population processes that trigger, amplify, and terminate outbreaks, while respecting space competition between coral groups.

Ecological functioning (concise):
1) COTS population dynamics:
   - Adults survive annually with temperature-modified survival and extra starvation mortality when prey (coral) is scarce.
   - Recruitment follows a resource- and temperature-modified Ricker process, producing rapid increases when adults are abundant and food/environment are favorable, and self-limitation at high densities.
   - External larval immigration pulses (data) add directly to local recruitment, enabling episodic outbreak initiation.
2) Coral community dynamics:
   - Fast (Acropora) and slow (Faviidae/Porites) corals grow logistically and compete for limited benthic space (shared carrying capacity of 100% cover).
   - COTS impose selective predation with a saturating, sigmoidal functional response (Type III-like), stronger on Acropora.
   - Thermal stress (high SST) adds smooth, temperature-dependent bleaching mortality, stronger for Acropora.
3) Feedbacks and triggers:
   - Positive feedback: more preferred coral enhances COTS recruitment efficiency (via improved feeding and fecundity), sustaining booms.
   - Negative feedback: as coral depletes, COTS starvation increases and recruitment efficiency declines, driving busts.
   - Outbreak triggers arise from larval immigration pulses and favorable temperature windows; outbreak termination arises from prey depletion, density dependence, and elevated thermal stress.

Numerical safeguards:
- Smooth ramps (softplus) replace hard thresholds (e.g., bleaching onset, parameter bounds).
- Small constants prevent division-by-zero; no use of contemporaneous observations in state updates (only prior-step states).
- Observation likelihoods use variance floors (lognormal for COTS, logit-normal for coral cover proportions) to ensure stability.

Outputs:
- Annual predictions for COTS density (individuals/m²) and coral covers (%) that match the input time variable (Year) and align with observation names via *_pred vectors suitable for data assimilation and forecasting.
