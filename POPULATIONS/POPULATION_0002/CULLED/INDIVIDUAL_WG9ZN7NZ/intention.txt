Assessment of current model

Fit to data:
- Residuals: The residuals file was not provided here, so this assessment focuses on structural behavior. Given the current equations, a common pattern would be:
  - COTS peaks either occur too late or too early when a fixed juv_surv is used, because recruitment-to-adult timing is insensitive to food and density.
  - Peak magnitudes can be under- or over-predicted depending on sequences of immigration and SST anomalies, due to limited nonlinearity in the juvenile bottleneck.
  - Coral cover residuals likely show gradual mismatches around strongly bleaching years (thermal threshold is soft but constant sensitivity), while COTS residuals may display heavier tails during outbreak years.

Addressing the project context:
- Strengths:
  - Outbreak-capable structure: Type-III predation on corals, resource-driven Ricker dynamics for COTS, a juvenile lag, and SST thermal performance together can generate boom–bust behavior.
  - Food-limited carrying capacity and starvation mortality of adults provide collapse mechanisms following coral depletion.
  - Immigration term allows episodic external larval supply.
- Potential gaps:
  - Juvenile maturation is constant (juv_surv), not responsive to resource availability or crowding, limiting the model’s ability to sharpen outbreak onsets and accelerate busts.
  - Literature-based adult mortality (m_C) appears tightly constrained (2.56 y^-1) in the parameter file, but the model code previously allowed a broader range (0–2). This misalignment can bias inference and dynamics.

Key ecological processes missing/oversimplified:
- Stage-specific recruitment bottlenecks: Juvenile-to-adult transition should depend positively on food availability and negatively on adult density (competition/cannibalism/shelter limitation).
- Predator control/disease and nutrient pulse effects are also plausible drivers but require additional data (not available here). The current model partially accounts for environmental modulation via SST, but not for variable juvenile efficiency.

Parameter review:
- m_C is tightly bounded around 2.56 (lower_bound = upper_bound = 2.56 in parameters.json). The model code used a looser (0–2) penalty, inconsistent with the file, potentially distorting fits. This has been aligned.
- Many parameters are literature-based initial values; updated_from_literature flags are false, so no detected updates necessitating further structural changes beyond the juvenile bottleneck.

Chosen ecological improvement

Approach: Variable efficiency term (environmental modifier and resource limitation) for juvenile maturation.
- Mathematical form:
  - Let Food_t = saturating01(phi_A*A_{t-1} + phi_S*S_{t-1}, K_food).
  - Define juv_surv_eff,t = juv_surv * [Food_t]^{juv_food_alpha} * [juv_density_half / (juv_density_half + C_{t-1})].
  - Replace juv_mature = juv_surv * juv_prev with juv_mature = juv_surv_eff,t * juv_prev.
- Ecological justification:
  - Food-dependent maturation: When food is abundant (coral cover high), juveniles are more likely to survive and mature; when food is scarce, maturation drops.
  - Density-limited maturation: High adult densities increase competition/cannibalism and deplete refuge, reducing the conversion of juveniles to adults; this accelerates busts after peaks.
- Expected effects:
  - Sharper, more episodic outbreaks triggered by favorable food and thermal conditions.
  - Faster post-peak collapses due to density feedback on maturation.
  - Improved timing and magnitude of peaks without introducing data leakage (all drivers come from t-1 states and exogenous inputs).
- Added parameters:
  - juv_food_alpha (dimensionless, default 1.0; bounds 0–3): elasticity of maturation to food.
  - juv_density_half (indiv m^-2, default 0.8; bounds 0.05–5.0): half-saturation scale of density penalty.

Other code alignment:
- Align m_C soft-bound penalty in the model code to the literature-fixed value (2.56 y^-1) indicated by parameters.json.

Notes:
- No current-timestep observed variables are used in predictions.
- All positivity constraints remain soft via softplus.
- If residuals show remaining peak underestimation, consider later adding a second juvenile lag or an environmental (runoff) modifier to immigration, but that is deferred to keep the model parsimonious for now.
