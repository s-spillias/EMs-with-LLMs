Assessment of current model and rationale for change

Data fit:
- A residuals file was referenced but not provided here. Without it, I cannot quantify fit. However, based on typical behavior of models without explicit recruitment delays, two issues commonly appear in residuals:
  1) Outbreak timing: peaks occur too early relative to observations because recruitment from local consumption is applied immediately to adults.
  2) Peak magnitude/duration: booms are either underpredicted (if mortality is high) or too brief because resource depletion feeds back too quickly without a cohort pipeline.

Project-context alignment:
- The model includes resource limitation (food_availability, K_eff), thermal performance for COTS reproduction (TPC), Type-III predation on corals, and starvation-driven mortality increases. These mechanisms support boom-bust cycles by allowing rapid growth when food and temperature are favorable and crashes when food declines.
- A key mechanism for episodic outbreaks is the delayed emergence of strong cohorts: COTS larvae settle and spend months to years as cryptic juveniles feeding on coralline algae before joining the adult population. This delay is not captured in the current adult-only recruitment, which sends food-driven recruitment directly into adults within the same year.

Potential missing or oversimplified processes:
- Cohort/juvenile stage: No explicit juvenile state delays recruitment; this can distort outbreak timing and persistence.
- Environmental drivers of larval success beyond temperature (e.g., nutrient pulses/runoff) are not included; these may be partly represented by the immigration covariate.
- Density-dependent fertilization/aggregation beyond the included Allee effect could be relevant, but adding both Allee and fertilization crowding may be redundant.
- Predator interference or cannibalism could add additional negative density dependence but are secondary to the recruitment delay for timing accuracy.

Parameter review highlights:
- m_C is effectively fixed at 2.56 year^-1 (extremely tight bounds), which forces the model to rely on large recruitment terms to achieve outbreaks. This increases sensitivity to the instantaneous recruitment assumption, amplifying the timing issue above.
- Other parameters have biologically plausible bounds. imm_surv is defined as the fraction of larval immigration surviving to adults per year; to prevent a semantics change and data leakage, we retain this direct-to-adult immigration flow.

Chosen ecological improvement (one change):
Introduce an explicit juvenile pool that receives food-driven recruitment and contributes to adults after a one-year maturation lag. This adds delayed density dependence, a known feature of COTS dynamics, improving the timing and duration of outbreak peaks without changing data usage rules.

Implementation details:
- New latent state: juv_pred[t] (juvenile density).
- Food-driven recruitment rec_from_food enters the juvenile pool at year t (computed from year t-1 states).
- Juveniles survive annually with parameter juv_surv (0–1) modulated by the same thermal performance curve (TPC) used for adults, reflecting temperature effects on juvenile survival.
- A fraction matur_rate (0–1) of the previous year’s juvenile pool matures into adults each year.
- Immigration continues to contribute directly to adults using imm_surv as originally defined, keeping its interpretation unchanged.
- We removed the direct addition of rec_from_food to adults and replaced it by matur_rate * J_prev, introducing a 1-year lag from food-driven reproduction to adult population effects.

Why this is appropriate for the project:
- The juvenile delay is a minimal-complexity structural addition that directly targets episodic, cohort-driven outbreaks, improving timing and sustaining booms long enough to match observed outbreak durations.
- It preserves existing thermal and resource feedbacks that drive busts via food depletion and starvation while avoiding data leakage (only previous-year states are used).
- It keeps parameter parsimony by adding only two interpretable parameters with tight, biologically meaningful bounds.

Notes for interpretation:
- If residuals later show systematic under- or over-lagged peaks, identifiability between juv_surv and matur_rate may be addressed by fixing one or tightening priors/bounds.
- If adult mortality m_C remains fixed at high values, the model will depend on the juvenile pipeline to supply strong cohorts; this is ecologically consistent but should be validated against observed boom durations and decline rates.

Summary of changes:
- model.cpp: Added juvenile state and rerouted food-driven recruitment with a maturation delay.
- parameters.json: Added juv_surv and matur_rate with 0–1 bounds and ecological descriptions.
- No use of current time-step observed variables in process equations; only t-1 driver/state values are used.
