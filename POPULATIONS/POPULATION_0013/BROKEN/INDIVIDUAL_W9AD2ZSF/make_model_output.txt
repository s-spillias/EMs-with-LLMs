Warning: Input is not a terminal (fd=14).
Skipping POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp that matches gitignore spec.
Skipping POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json that matches gitignore spec.
Skipping POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/intention.txt that matches gitignore spec.
Creating empty file POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/intention.txt
Here is my assessment and proposed improvement:                                                                                                                                                                        

Assessment of Current Model:                                                                                                                                                                                           

 1 Model Fit:                                                                                                                                                                                                          
   The model uses a process-based approach with lognormal likelihoods for COTS, fast coral, and slow coral. Without the residuals file, I cannot quantitatively assess fit, but the structure suggests it can capture  
   general trends and boom-bust cycles.                                                                                                                                                                                
 2 Addressing Project Context:                                                                                                                                                                                         
   The model includes:                                                                                                                                                                                                 

 • Density-dependent COTS growth and carrying capacity.                                                                                                                                                                
 • Resource limitation via total coral cover.                                                                                                                                                                          
 • Selective predation on coral types (fast/slow) using selectivity parameters.                                                                                                                                        
 • Outbreak threshold (logit_outbreak_thresh) and environmental modifiers (SST, immigration).                                                                                                                          
 • Stochastic process and observation error.                                                                                                                                                                           

This structure is well-suited for capturing COTS outbreaks and their impact on coral communities. However, the outbreak mechanism is a smooth threshold on COTS recruitment, modulated by SST and immigration, but does
not explicitly include feedback from coral depletion on outbreak sustainability.                                                                                                                                       

 3 Potential Missing or Oversimplified Processes:                                                                                                                                                                      

 • Feedback from Coral Depletion:                                                                                                                                                                                      
   The model includes resource limitation in COTS growth via (coral_total_prev/K_coral), but the outbreak threshold is static (except for environmental modifiers). In reality, severe coral depletion can abruptly end
   outbreaks by removing food resources, creating a strong negative feedback.                                                                                                                                          
 • Nonlinear Resource Limitation:                                                                                                                                                                                      
   The current resource limitation is linear. In reality, COTS recruitment and survival may decline sharply below a critical coral cover threshold (nonlinear/saturating effect).                                      
 • Predation Efficiency:                                                                                                                                                                                               
   Attack rates are constant, but may vary with coral cover or COTS density.                                                                                                                                           

Chosen Improvement: Nonlinear Resource Limitation on COTS Recruitment                                                                                                                                                  

Justification:                                                                                                                                                                                                         
To better capture the abrupt collapse of COTS outbreaks when coral is depleted, I will introduce a saturating (Hill-type) function for the effect of coral cover on COTS recruitment. This creates a nonlinear         
feedback: when coral cover drops below a critical threshold, COTS recruitment rapidly declines, ending the outbreak. This is ecologically justified and improves the model's ability to reproduce the sharp transitions
observed in real boom-bust cycles.                                                                                                                                                                                     

Implementation Plan:                                                                                                                                                                                                   

 • Add a new parameter hill_n_cots (Hill coefficient) to control the steepness of the nonlinear effect.                                                                                                                
 • Replace the linear (coral_total_prev/K_coral) term in COTS growth with a Hill function:                                                                                                                             
   pow(coral_total_prev, hill_n_cots) / (pow(coral_total_prev, hill_n_cots) + pow(coral_crit_cots, hill_n_cots))                                                                                                       
 • Add a new parameter coral_crit_cots (critical coral cover for COTS recruitment).                                                                                                                                    
 • Update documentation and parameter file accordingly.                                                                                                                                                                

───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Here are the SEARCH/REPLACE blocks:                                                                                                                                                                                    

POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/intention.txt                                                                                                                                                          

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
 =======                                                                                                                                                                                                               
 Assessment:                                                                                                                                                                                                           
 The current model captures key features of COTS outbreaks, including density dependence, selective predation, environmental drivers, and a smooth outbreak threshold. However, the resource limitation on COTS        
 recruitment is linear, which may not adequately represent the abrupt collapse of outbreaks observed when coral cover falls below a critical threshold. This could lead to overestimation of outbreak duration and     
 underestimation of the sharpness of boom-bust cycles.                                                                                                                                                                 
                                                                                                                                                                                                                       
 Improvement:                                                                                                                                                                                                          
 To address this, I introduce a nonlinear (Hill-type) resource limitation on COTS recruitment. This saturating function sharply reduces COTS recruitment when coral cover drops below a critical value, providing a    
 strong negative feedback that can abruptly end outbreaks. This mechanism is ecologically justified, as COTS larvae and juveniles require sufficient coral for survival, and outbreaks often collapse rapidly when foo 
 is exhausted.                                                                                                                                                                                                         
                                                                                                                                                                                                                       
 Implementation:                                                                                                                                                                                                       
 - Add parameters: 'hill_n_cots' (Hill coefficient, controls steepness) and 'coral_crit_cots' (critical coral cover for COTS recruitment).                                                                             
 - Replace the linear coral limitation in COTS growth with a Hill function.                                                                                                                                            
 - Update parameter file and model code accordingly.                                                                                                                                                                   
                                                                                                                                                                                                                       
 This change should improve the model's ability to reproduce the timing and abruptness of outbreak collapses, better matching observed boom-bust dynamics.                                                             
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json                                                                                                                                                        

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
         }                                                                                                                                                                                                             
     ]                                                                                                                                                                                                                 
 }=======                                                                                                                                                                                                              
         },                                                                                                                                                                                                            
         {                                                                                                                                                                                                             
             "parameter": "hill_n_cots",                                                                                                                                                                               
             "value": 4.0,                                                                                                                                                                                             
             "description": "Hill coefficient for nonlinear coral limitation on COTS recruitment",                                                                                                                     
             "source": "ecological theory",                                                                                                                                                                            
             "import_type": "PARAMETER",                                                                                                                                                                               
             "priority": 2,                                                                                                                                                                                            
             "enhanced_semantic_description": "Steepness of the nonlinear effect of coral cover on COTS recruitment; higher values produce sharper outbreak collapses",                                                
             "processed": true                                                                                                                                                                                         
         },                                                                                                                                                                                                            
         {                                                                                                                                                                                                             
             "parameter": "coral_crit_cots",                                                                                                                                                                           
             "value": 10.0,                                                                                                                                                                                            
             "description": "Critical coral cover (%) for COTS recruitment (Hill function half-saturation)",                                                                                                           
             "source": "expert opinion",                                                                                                                                                                               
             "import_type": "PARAMETER",                                                                                                                                                                               
             "priority": 2,                                                                                                                                                                                            
             "enhanced_semantic_description": "Coral cover at which COTS recruitment is half-maximal; below this, recruitment drops sharply",                                                                          
             "processed": true                                                                                                                                                                                         
         }                                                                                                                                                                                                             
     ]                                                                                                                                                                                                                 
 }                                                                                                                                                                                                                     
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
     // COTS population parameters                                                                                                                                                                                     
     PARAMETER(log_r_cots);      // log intrinsic growth rate of COTS (year^-1)                                                                                                                                        
     PARAMETER(log_K_cots);      // log carrying capacity for COTS (indiv/m2)                                                                                                                                          
     PARAMETER(log_alpha_cots);  // log predation attack rate on coral (m2/indiv/year)                                                                                                                                 
     PARAMETER(log_beta_cots);   // log half-saturation coral cover for COTS predation (%, for functional response)                                                                                                    
     PARAMETER(log_m_cots);      // log baseline COTS mortality rate (year^-1)                                                                                                                                         
     PARAMETER(log_eps_cots);    // log process error SD for COTS                                                                                                                                                      
 =======                                                                                                                                                                                                               
     // COTS population parameters                                                                                                                                                                                     
     PARAMETER(log_r_cots);      // log intrinsic growth rate of COTS (year^-1)                                                                                                                                        
     PARAMETER(log_K_cots);      // log carrying capacity for COTS (indiv/m2)                                                                                                                                          
     PARAMETER(log_alpha_cots);  // log predation attack rate on coral (m2/indiv/year)                                                                                                                                 
     PARAMETER(log_beta_cots);   // log half-saturation coral cover for COTS predation (%, for functional response)                                                                                                    
     PARAMETER(log_m_cots);      // log baseline COTS mortality rate (year^-1)                                                                                                                                         
     PARAMETER(log_eps_cots);    // log process error SD for COTS                                                                                                                                                      
     PARAMETER(hill_n_cots);     // Hill coefficient for nonlinear coral limitation on COTS recruitment                                                                                                                
     PARAMETER(coral_crit_cots); // Critical coral cover (%) for COTS recruitment (Hill function half-saturation)                                                                                                      
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
     Type r_cots = exp(log_r_cots);           // Intrinsic COTS growth rate (year^-1)                                                                                                                                  
     Type K_cots = exp(log_K_cots);           // COTS carrying capacity (indiv/m2)                                                                                                                                     
     Type alpha_cots = exp(log_alpha_cots);   // COTS attack rate (m2/indiv/year)                                                                                                                                      
     Type beta_cots = exp(log_beta_cots);     // Coral cover half-saturation for COTS predation (%)                                                                                                                    
     Type m_cots = exp(log_m_cots);           // Baseline COTS mortality (year^-1)                                                                                                                                     
     Type eps_cots = exp(log_eps_cots);       // COTS process error SD                                                                                                                                                 
 =======                                                                                                                                                                                                               
     Type r_cots = exp(log_r_cots);           // Intrinsic COTS growth rate (year^-1)                                                                                                                                  
     Type K_cots = exp(log_K_cots);           // COTS carrying capacity (indiv/m2)                                                                                                                                     
     Type alpha_cots = exp(log_alpha_cots);   // COTS attack rate (m2/indiv/year)                                                                                                                                      
     Type beta_cots = exp(log_beta_cots);     // Coral cover half-saturation for COTS predation (%)                                                                                                                    
     Type m_cots = exp(log_m_cots);           // Baseline COTS mortality (year^-1)                                                                                                                                     
     Type eps_cots = exp(log_eps_cots);       // COTS process error SD                                                                                                                                                 
     Type n_hill = hill_n_cots;               // Hill coefficient (unitless)                                                                                                                                           
     Type coral_crit = coral_crit_cots;       // Critical coral cover for COTS recruitment (%)                                                                                                                         
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
         // COTS population update (Eq 1)                                                                                                                                                                              
         Type cots_growth = r_cots * cots_pred(t-1) * (1.0 - cots_pred(t-1)/K_cots) * (coral_total_prev/K_coral) * env_effect * imm_effect * outbreak_factor;                                                          
         cots_pred(t) = cots_pred(t-1) + cots_growth - m_cots * cots_pred(t-1) + eps_cots * pow(Type(1e-8) + cots_pred(t-1), 0.5) * rnorm(Type(0), Type(1));                                                           
         cots_pred(t) = CppAD::CondExpGt(cots_pred(t), Type(1e-8), cots_pred(t), Type(1e-8)); // Bound to positive                                                                                                     
 =======                                                                                                                                                                                                               
         // Nonlinear (Hill-type) resource limitation on COTS recruitment                                                                                                                                              
         Type coral_lim = pow(coral_total_prev, n_hill) / (pow(coral_total_prev, n_hill) + pow(coral_crit, n_hill) + Type(1e-8));                                                                                      
                                                                                                                                                                                                                       
         // COTS population update (Eq 1, improved)                                                                                                                                                                    
         Type cots_growth = r_cots * cots_pred(t-1) * (1.0 - cots_pred(t-1)/K_cots) * coral_lim * env_effect * imm_effect * outbreak_factor;                                                                           
         cots_pred(t) = cots_pred(t-1) + cots_growth - m_cots * cots_pred(t-1) + eps_cots * pow(Type(1e-8) + cots_pred(t-1), 0.5) * rnorm(Type(0), Type(1));                                                           
         cots_pred(t) = CppAD::CondExpGt(cots_pred(t), Type(1e-8), cots_pred(t), Type(1e-8)); // Bound to positive                                                                                                     
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

Tokens: 7.8k sent, 2.3k received. Cost: $0.03 message, $0.03 session.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/intention.txt before applying edits.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json before applying edits.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp before applying edits.
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/intention.txt: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/intention.txt
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to commit: Cmd('git') failed due to: exit code(1)
  cmdline: git commit -m feat: add INDIVIDUAL_W9AD2ZSF files to POPULATION_0013 --no-verify -- /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json 
/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp 
/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/intention.txt
  stderr: 'error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json' did not match any file(s) known to git
error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp' did not match any file(s) known to git
error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/intention.txt' did not match any file(s) known to git'
The LLM did not conform to the edit format.
https://aider.chat/docs/troubleshooting/edit-errors.html

# 1 SEARCH/REPLACE block failed to match!

## SearchReplaceNoExactMatch: This SEARCH block failed to exactly match lines in POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json
<<<<<<< SEARCH
        }
    ]
}=======
        },
        {
            "parameter": "hill_n_cots",
            "value": 4.0,
            "description": "Hill coefficient for nonlinear coral limitation on COTS recruitment",
            "source": "ecological theory",
            "import_type": "PARAMETER",
            "priority": 2,
            "enhanced_semantic_description": "Steepness of the nonlinear effect of coral cover on COTS recruitment; higher values produce sharper outbreak collapses",
            "processed": true
        },
        {
            "parameter": "coral_crit_cots",
            "value": 10.0,
            "description": "Critical coral cover (%) for COTS recruitment (Hill function half-saturation)",
            "source": "expert opinion",
            "import_type": "PARAMETER",
            "priority": 2,
            "enhanced_semantic_description": "Coral cover at which COTS recruitment is half-maximal; below this, recruitment drops sharply",
            "processed": true
        }
    ]
}
>>>>>>> REPLACE
```

POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
```cpp
<<<<<<< SEARCH
    // COTS population parameters
    PARAMETER(log_r_cots);      // log intrinsic growth rate of COTS (year^-1)
    PARAMETER(log_K_cots);      // log carrying capacity for COTS (indiv/m2)
    PARAMETER(log_alpha_cots);  // log predation attack rate on coral (m2/indiv/year)
    PARAMETER(log_beta_cots);   // log half-saturation coral cover for COTS predation (%, for functional response)
    PARAMETER(log_m_cots);      // log baseline COTS mortality rate (year^-1)
    PARAMETER(log_eps_cots);    // log process error SD for COTS
=======
    // COTS population parameters
    PARAMETER(log_r_cots);      // log intrinsic growth rate of COTS (year^-1)
    PARAMETER(log_K_cots);      // log carrying capacity for COTS (indiv/m2)
    PARAMETER(log_alpha_cots);  // log predation attack rate on coral (m2/indiv/year)
    PARAMETER(log_beta_cots);   // log half-saturation coral cover for COTS predation (%, for functional response)
    PARAMETER(log_m_cots);      // log baseline COTS mortality rate (year^-1)
    PARAMETER(log_eps_cots);    // log process error SD for COTS
    PARAMETER(hill_n_cots);     // Hill coefficient for nonlinear coral limitation on COTS recruitment
    PARAMETER(coral_crit_cots); // Critical coral cover (%) for COTS recruitment (Hill function half-saturation)
>>>>>>> REPLACE

The SEARCH section must exactly match an existing block of lines including all white space, comments, indentation, docstrings, etc

# The other 3 SEARCH/REPLACE blocks were applied successfully.
Don't re-send them.
Just reply with fixed versions of the block above that failed to match.

POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json                                                                                                                                                        

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
         }                                                                                                                                                                                                             
     ]                                                                                                                                                                                                                 
 }                                                                                                                                                                                                                     
 =======                                                                                                                                                                                                               
         },                                                                                                                                                                                                            
         {                                                                                                                                                                                                             
             "parameter": "hill_n_cots",                                                                                                                                                                               
             "value": 4.0,                                                                                                                                                                                             
             "description": "Hill coefficient for nonlinear coral limitation on COTS recruitment",                                                                                                                     
             "source": "ecological theory",                                                                                                                                                                            
             "import_type": "PARAMETER",                                                                                                                                                                               
             "priority": 2,                                                                                                                                                                                            
             "enhanced_semantic_description": "Steepness of the nonlinear effect of coral cover on COTS recruitment; higher values produce sharper outbreak collapses",                                                
             "processed": true                                                                                                                                                                                         
         },                                                                                                                                                                                                            
         {                                                                                                                                                                                                             
             "parameter": "coral_crit_cots",                                                                                                                                                                           
             "value": 10.0,                                                                                                                                                                                            
             "description": "Critical coral cover (%) for COTS recruitment (Hill function half-saturation)",                                                                                                           
             "source": "expert opinion",                                                                                                                                                                               
             "import_type": "PARAMETER",                                                                                                                                                                               
             "priority": 2,                                                                                                                                                                                            
             "enhanced_semantic_description": "Coral cover at which COTS recruitment is half-maximal; below this, recruitment drops sharply",                                                                          
             "processed": true                                                                                                                                                                                         
         }                                                                                                                                                                                                             
     ]                                                                                                                                                                                                                 
 }                                                                                                                                                                                                                     
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

Tokens: 11k sent, 252 received. Cost: $0.02 message, $0.06 session.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json before applying edits.
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to commit: Cmd('git') failed due to: exit code(1)
  cmdline: git commit -m feat: add parameters.json for INDIVIDUAL_W9AD2ZSF in POPULATION_0013 --no-verify -- 
/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json
  stderr: 'error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json' did not match any file(s) known to git'
Applied edit to POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/parameters.json
Improved existing model in individual: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF
Validating model for data leakage...
Opening file: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': True, 'uses_data_macros': True, 'uses_vector_type': True, 'uses_standard_report': True, 'uses_objective_function': True, 'uses_std_vector': False, 'uses_string_report': False}
Extracting vectors...
Found data vectors: {'sst_dat', 'slow_dat', 'Year', 'cotsimm_dat', 'cots_dat', 'fast_dat'}
Found prediction vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Found reported vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Finding initial conditions...
Found 3 initial conditions
Finding time-stepping loop...
Found loop from line 106 to 138
Found response variables from Data/timeseries_data_COTS_response.csv: {'cots_dat', 'fast_dat', 'slow_dat'}
[93mRunning model for individual...[0m
[0mIndividual directory: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF[0m
[93mR script stdout:[0m
[0mg++ -std=gnu++17 -I"/usr/share/R/include" -DNDEBUG -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include" -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/RcppEigen/include"   -DTMB_EIGEN_DISABLE_WARNINGS   -DTMB_LIB_INIT=R_init_model  -DCPPAD_FRAMEWORK      -fpic  -O2  -c POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o[0m
[93mR script stderr:[0m
[0mLoading required package: TMB
Loading required package: jsonlite
here() starts at /home/spi085/Documents/_Projects/SCCP-QuantModelling
using C++ compiler: ‘g++ (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0’
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: In member function ‘Type objective_function<Type>::operator()()’:
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:67:19: error: ‘hill_n_cots’ was not declared in this scope
   67 |     Type n_hill = hill_n_cots;               // Hill coefficient (unitless)
      |                   ^~~~~~~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:68:23: error: ‘coral_crit_cots’ was not declared in this scope; did you mean ‘coral_crit’?
   68 |     Type coral_crit = coral_crit_cots;       // Critical coral cover for COTS recruitment (%)
      |                       ^~~~~~~~~~~~~~~
      |                       coral_crit
make: *** [/usr/lib/R/etc/Makeconf:204: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o] Error 1
Error in TMB::compile(file.path(individual_dir, model_file), flags = flags,  : 
  Compilation failed
Error: Compilation failed
Execution halted[0m
[91mModel failed to compile.[0m
MODEL RUN FINISHED
Error: Objective value is None
Initial run failed. Attempting to fix...
Fixing broken model iteration: 0
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
     // COTS population parameters                                                                                                                                                                                     
     PARAMETER(log_r_cots);      // log intrinsic growth rate of COTS (year^-1)                                                                                                                                        
     PARAMETER(log_K_cots);      // log carrying capacity for COTS (indiv/m2)                                                                                                                                          
     PARAMETER(log_alpha_cots);  // log predation attack rate on coral (m2/indiv/year)                                                                                                                                 
     PARAMETER(log_beta_cots);   // log half-saturation coral cover for COTS predation (%, for functional response)                                                                                                    
     PARAMETER(log_m_cots);      // log baseline COTS mortality rate (year^-1)                                                                                                                                         
     PARAMETER(log_eps_cots);    // log process error SD for COTS                                                                                                                                                      
 =======                                                                                                                                                                                                               
     // COTS population parameters                                                                                                                                                                                     
     PARAMETER(log_r_cots);      // log intrinsic growth rate of COTS (year^-1)                                                                                                                                        
     PARAMETER(log_K_cots);      // log carrying capacity for COTS (indiv/m2)                                                                                                                                          
     PARAMETER(log_alpha_cots);  // log predation attack rate on coral (m2/indiv/year)                                                                                                                                 
     PARAMETER(log_beta_cots);   // log half-saturation coral cover for COTS predation (%, for functional response)                                                                                                    
     PARAMETER(log_m_cots);      // log baseline COTS mortality rate (year^-1)                                                                                                                                         
     PARAMETER(log_eps_cots);    // log process error SD for COTS                                                                                                                                                      
     PARAMETER(hill_n_cots);     // Hill coefficient for nonlinear coral limitation on COTS recruitment                                                                                                                
     PARAMETER(coral_crit_cots); // Critical coral cover (%) for COTS recruitment (Hill function half-saturation)                                                                                                      
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

Tokens: 12k sent, 369 received. Cost: $0.03 message, $0.09 session.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp before applying edits.
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to commit: Cmd('git') failed due to: exit code(1)
  cmdline: git commit -m feat: add model.cpp for INDIVIDUAL_W9AD2ZSF in POPULATION_0013 --no-verify -- /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp' did not match any file(s) known to git'
Applied edit to POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': True, 'uses_data_macros': True, 'uses_vector_type': True, 'uses_standard_report': True, 'uses_objective_function': True, 'uses_std_vector': False, 'uses_string_report': False}
Extracting vectors...
Found data vectors: {'sst_dat', 'slow_dat', 'Year', 'cotsimm_dat', 'cots_dat', 'fast_dat'}
Found prediction vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Found reported vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Finding initial conditions...
Found 3 initial conditions
Finding time-stepping loop...
Found loop from line 108 to 140
Found response variables from Data/timeseries_data_COTS_response.csv: {'cots_dat', 'fast_dat', 'slow_dat'}
[93mRunning model for individual...[0m
[0mIndividual directory: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF[0m
[93mR script stdout:[0m
[0mg++ -std=gnu++17 -I"/usr/share/R/include" -DNDEBUG -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include" -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/RcppEigen/include"   -DTMB_EIGEN_DISABLE_WARNINGS   -DTMB_LIB_INIT=R_init_model  -DCPPAD_FRAMEWORK      -fpic  -O2  -c POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o
g++ -std=gnu++17 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -flto=auto -ffat-lto-objects -Wl,-z,relro -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.so POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o -L/usr/lib/R/lib -lR
Starting model phases
Number of phases: 3 
Phase 1 
Initial parameter values for phase 1 :
 log_r_cots  log_K_cots  log_r_fast  log_r_slow log_K_coral 
         NA          NA      -0.880      -3.108       1.810 
Error in model phases: NA/NaN gradient evaluation[0m
[93mR script stderr:[0m
[0mLoading required package: TMB
Loading required package: jsonlite
here() starts at /home/spi085/Documents/_Projects/SCCP-QuantModelling
using C++ compiler: ‘g++ (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0’
Error in value[[3L]](cond) : 
  Error in model phases: NA/NaN gradient evaluation
Calls: tryCatch -> tryCatchList -> tryCatchOne -> <Anonymous>
In addition: Warning message:
In nlminb(model$par, model$fn, model$gr) : NA/NaN function evaluation
Execution halted[0m
[91mR script failed with return code 1[0m
Fixing broken model iteration: 1
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
     // Set initial states to observed values at t=0 (could be parameters if desired)                                                                                                                                  
     cots_pred(0) = cots_dat(0);                                                                                                                                                                                       
     fast_pred(0) = fast_dat(0);                                                                                                                                                                                       
     slow_pred(0) = slow_dat(0);                                                                                                                                                                                       
 =======                                                                                                                                                                                                               
     // Set initial states to observed values at t=0 (could be parameters if desired)                                                                                                                                  
     cots_pred(0) = CppAD::CondExpGt(cots_dat(0), Type(1e-8), cots_dat(0), Type(1e-8));                                                                                                                                
     fast_pred(0) = CppAD::CondExpGt(fast_dat(0), Type(1e-8), fast_dat(0), Type(1e-8));                                                                                                                                
     slow_pred(0) = CppAD::CondExpGt(slow_dat(0), Type(1e-8), slow_dat(0), Type(1e-8));                                                                                                                                
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

Tokens: 13k sent, 233 received. Cost: $0.03 message, $0.11 session.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp before applying edits.
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to commit: Cmd('git') failed due to: exit code(1)
  cmdline: git commit -m feat: add model.cpp for INDIVIDUAL_W9AD2ZSF in POPULATION_0013 --no-verify -- /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp' did not match any file(s) known to git'
Applied edit to POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': True, 'uses_data_macros': True, 'uses_vector_type': True, 'uses_standard_report': True, 'uses_objective_function': True, 'uses_std_vector': False, 'uses_string_report': False}
Extracting vectors...
Found data vectors: {'sst_dat', 'slow_dat', 'Year', 'cotsimm_dat', 'cots_dat', 'fast_dat'}
Found prediction vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Found reported vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Finding initial conditions...
Found 3 initial conditions
Finding time-stepping loop...
Found loop from line 108 to 140
Found response variables from Data/timeseries_data_COTS_response.csv: {'cots_dat', 'fast_dat', 'slow_dat'}
[93mRunning model for individual...[0m
[0mIndividual directory: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF[0m
[93mRemoved old compilation: model.o[0m
[93mR script stdout:[0m
[0mg++ -std=gnu++17 -I"/usr/share/R/include" -DNDEBUG -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include" -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/RcppEigen/include"   -DTMB_EIGEN_DISABLE_WARNINGS   -DTMB_LIB_INIT=R_init_model  -DCPPAD_FRAMEWORK      -fpic  -O2  -c POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o
g++ -std=gnu++17 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -flto=auto -ffat-lto-objects -Wl,-z,relro -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.so POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o -L/usr/lib/R/lib -lR
Starting model phases
Number of phases: 3 
Phase 1 
Initial parameter values for phase 1 :
 log_r_cots  log_K_cots  log_r_fast  log_r_slow log_K_coral 
         NA          NA      -0.880      -3.108       1.810 
Error in model phases: NA/NaN gradient evaluation[0m
[93mR script stderr:[0m
[0mLoading required package: TMB
Loading required package: jsonlite
here() starts at /home/spi085/Documents/_Projects/SCCP-QuantModelling
using C++ compiler: ‘g++ (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0’
Error in value[[3L]](cond) : 
  Error in model phases: NA/NaN gradient evaluation
Calls: tryCatch -> tryCatchList -> tryCatchOne -> <Anonymous>
In addition: Warning message:
In nlminb(model$par, model$fn, model$gr) : NA/NaN function evaluation
Execution halted[0m
[91mR script failed with return code 1[0m
Fixing broken model iteration: 2
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
     Type r_cots = exp(log_r_cots);           // Intrinsic COTS growth rate (year^-1)                                                                                                                                  
     Type K_cots = exp(log_K_cots);           // COTS carrying capacity (indiv/m2)                                                                                                                                     
     Type alpha_cots = exp(log_alpha_cots);   // COTS attack rate (m2/indiv/year)                                                                                                                                      
     Type beta_cots = exp(log_beta_cots);     // Coral cover half-saturation for COTS predation (%)                                                                                                                    
     Type m_cots = exp(log_m_cots);           // Baseline COTS mortality (year^-1)                                                                                                                                     
     Type eps_cots = exp(log_eps_cots);       // COTS process error SD                                                                                                                                                 
     Type n_hill = hill_n_cots;               // Hill coefficient (unitless)                                                                                                                                           
     Type coral_crit = coral_crit_cots;       // Critical coral cover for COTS recruitment (%)                                                                                                                         
 =======                                                                                                                                                                                                               
     Type r_cots = exp(log_r_cots);           // Intrinsic COTS growth rate (year^-1)                                                                                                                                  
     Type K_cots = exp(log_K_cots);           // COTS carrying capacity (indiv/m2)                                                                                                                                     
     Type alpha_cots = exp(log_alpha_cots);   // COTS attack rate (m2/indiv/year)                                                                                                                                      
     Type beta_cots = exp(log_beta_cots);     // Coral cover half-saturation for COTS predation (%)                                                                                                                    
     Type m_cots = exp(log_m_cots);           // Baseline COTS mortality (year^-1)                                                                                                                                     
     Type eps_cots = exp(log_eps_cots);       // COTS process error SD                                                                                                                                                 
     Type n_hill = CppAD::CondExpGt(hill_n_cots, Type(0), hill_n_cots, Type(1.0)); // Hill coefficient (unitless, avoid zero)                                                                                          
     Type coral_crit = CppAD::CondExpGt(coral_crit_cots, Type(0), coral_crit_cots, Type(1.0)); // Critical coral cover for COTS recruitment (%), avoid zero                                                            
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

Tokens: 14k sent, 459 received. Cost: $0.03 message, $0.15 session.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp before applying edits.
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to commit: Cmd('git') failed due to: exit code(1)
  cmdline: git commit -m feat: add model.cpp for INDIVIDUAL_W9AD2ZSF in POPULATION_0013 --no-verify -- /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp' did not match any file(s) known to git'
Applied edit to POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': True, 'uses_data_macros': True, 'uses_vector_type': True, 'uses_standard_report': True, 'uses_objective_function': True, 'uses_std_vector': False, 'uses_string_report': False}
Extracting vectors...
Found data vectors: {'sst_dat', 'slow_dat', 'Year', 'cotsimm_dat', 'cots_dat', 'fast_dat'}
Found prediction vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Found reported vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Finding initial conditions...
Found 3 initial conditions
Finding time-stepping loop...
Found loop from line 108 to 140
Found response variables from Data/timeseries_data_COTS_response.csv: {'cots_dat', 'fast_dat', 'slow_dat'}
[93mRunning model for individual...[0m
[0mIndividual directory: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF[0m
[93mRemoved old compilation: model.o[0m
[93mR script stdout:[0m
[0mg++ -std=gnu++17 -I"/usr/share/R/include" -DNDEBUG -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include" -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/RcppEigen/include"   -DTMB_EIGEN_DISABLE_WARNINGS   -DTMB_LIB_INIT=R_init_model  -DCPPAD_FRAMEWORK      -fpic  -O2  -c POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o
g++ -std=gnu++17 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -flto=auto -ffat-lto-objects -Wl,-z,relro -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.so POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o -L/usr/lib/R/lib -lR
Starting model phases
Number of phases: 3 
Phase 1 
Initial parameter values for phase 1 :
 log_r_cots  log_K_cots  log_r_fast  log_r_slow log_K_coral 
         NA          NA      -0.880      -3.108       1.810 
Error in model phases: NA/NaN gradient evaluation[0m
[93mR script stderr:[0m
[0mLoading required package: TMB
Loading required package: jsonlite
here() starts at /home/spi085/Documents/_Projects/SCCP-QuantModelling
using C++ compiler: ‘g++ (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0’
Error in value[[3L]](cond) : 
  Error in model phases: NA/NaN gradient evaluation
Calls: tryCatch -> tryCatchList -> tryCatchOne -> <Anonymous>
In addition: Warning message:
In nlminb(model$par, model$fn, model$gr) : NA/NaN function evaluation
Execution halted[0m
[91mR script failed with return code 1[0m
Fixing broken model iteration: 3
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
     Type n_hill = CppAD::CondExpGt(hill_n_cots, Type(0), hill_n_cots, Type(1.0)); // Hill coefficient (unitless, avoid zero)                                                                                          
     Type coral_crit = CppAD::CondExpGt(coral_crit_cots, Type(0), coral_crit_cots, Type(1.0)); // Critical coral cover for COTS recruitment (%), avoid zero                                                            
 =======                                                                                                                                                                                                               
     Type n_hill = CppAD::CondExpGt(hill_n_cots, Type(0.01), hill_n_cots, Type(1.0)); // Hill coefficient (unitless, avoid zero/negative)                                                                              
     Type coral_crit = CppAD::CondExpGt(coral_crit_cots, Type(0.01), coral_crit_cots, Type(1.0)); // Critical coral cover for COTS recruitment (%), avoid zero/negative                                                
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
         Type coral_lim = pow(coral_total_prev, n_hill) / (pow(coral_total_prev, n_hill) + pow(coral_crit, n_hill) + Type(1e-8));                                                                                      
 =======                                                                                                                                                                                                               
         Type coral_lim = pow(CppAD::CondExpGt(coral_total_prev, Type(0.01), coral_total_prev, Type(0.01)), n_hill) /                                                                                                  
                          (pow(CppAD::CondExpGt(coral_total_prev, Type(0.01), coral_total_prev, Type(0.01)), n_hill) + pow(coral_crit, n_hill) + Type(1e-8));                                                          
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

Tokens: 15k sent, 400 received. Cost: $0.03 message, $0.18 session.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp before applying edits.
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to commit: Cmd('git') failed due to: exit code(1)
  cmdline: git commit -m feat: add model.cpp for INDIVIDUAL_W9AD2ZSF in POPULATION_0013 --no-verify -- /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp' did not match any file(s) known to git'
Applied edit to POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': True, 'uses_data_macros': True, 'uses_vector_type': True, 'uses_standard_report': True, 'uses_objective_function': True, 'uses_std_vector': False, 'uses_string_report': False}
Extracting vectors...
Found data vectors: {'sst_dat', 'slow_dat', 'Year', 'cotsimm_dat', 'cots_dat', 'fast_dat'}
Found prediction vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Found reported vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Finding initial conditions...
Found 3 initial conditions
Finding time-stepping loop...
Found loop from line 108 to 141
Found response variables from Data/timeseries_data_COTS_response.csv: {'cots_dat', 'fast_dat', 'slow_dat'}
[93mRunning model for individual...[0m
[0mIndividual directory: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF[0m
[93mRemoved old compilation: model.o[0m
[93mR script stdout:[0m
[0mg++ -std=gnu++17 -I"/usr/share/R/include" -DNDEBUG -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include" -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/RcppEigen/include"   -DTMB_EIGEN_DISABLE_WARNINGS   -DTMB_LIB_INIT=R_init_model  -DCPPAD_FRAMEWORK      -fpic  -O2  -c POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o
g++ -std=gnu++17 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -flto=auto -ffat-lto-objects -Wl,-z,relro -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.so POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o -L/usr/lib/R/lib -lR
Starting model phases
Number of phases: 3 
Phase 1 
Initial parameter values for phase 1 :
 log_r_cots  log_K_cots  log_r_fast  log_r_slow log_K_coral 
         NA          NA      -0.880      -3.108       1.810 
Error in model phases: NA/NaN gradient evaluation[0m
[93mR script stderr:[0m
[0mLoading required package: TMB
Loading required package: jsonlite
here() starts at /home/spi085/Documents/_Projects/SCCP-QuantModelling
using C++ compiler: ‘g++ (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0’
Error in value[[3L]](cond) : 
  Error in model phases: NA/NaN gradient evaluation
Calls: tryCatch -> tryCatchList -> tryCatchOne -> <Anonymous>
In addition: Warning message:
In nlminb(model$par, model$fn, model$gr) : NA/NaN function evaluation
Execution halted[0m
[91mR script failed with return code 1[0m
Fixing broken model iteration: 4
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp                                                                                                                                                              

                                                                                                                                                                                                                       
 <<<<<<< SEARCH                                                                                                                                                                                                        
     Type n_hill = CppAD::CondExpGt(hill_n_cots, Type(0.01), hill_n_cots, Type(1.0)); // Hill coefficient (unitless, avoid zero/negative)                                                                              
     Type coral_crit = CppAD::CondExpGt(coral_crit_cots, Type(0.01), coral_crit_cots, Type(1.0)); // Critical coral cover for COTS recruitment (%), avoid zero/negative                                                
 =======                                                                                                                                                                                                               
     Type n_hill = CppAD::CondExpGt(hill_n_cots, Type(0.01), hill_n_cots, Type(1.0)); // Hill coefficient (unitless, avoid zero/negative)                                                                              
     Type coral_crit = CppAD::CondExpGt(coral_crit_cots, Type(0.01), coral_crit_cots, Type(1.0)); // Critical coral cover for COTS recruitment (%), avoid zero/negative                                                
                                                                                                                                                                                                                       
     // Defensive: check for NaN/Inf in key parameters and set to safe defaults if needed                                                                                                                              
     if (!R_FINITE(r_cots)) r_cots = Type(0.1);                                                                                                                                                                        
     if (!R_FINITE(K_cots)) K_cots = Type(1.0);                                                                                                                                                                        
     if (!R_FINITE(alpha_cots)) alpha_cots = Type(0.01);                                                                                                                                                               
     if (!R_FINITE(beta_cots)) beta_cots = Type(1.0);                                                                                                                                                                  
     if (!R_FINITE(m_cots)) m_cots = Type(0.1);                                                                                                                                                                        
     if (!R_FINITE(eps_cots)) eps_cots = Type(0.01);                                                                                                                                                                   
     if (!R_FINITE(n_hill)) n_hill = Type(1.0);                                                                                                                                                                        
     if (!R_FINITE(coral_crit)) coral_crit = Type(1.0);                                                                                                                                                                
     if (!R_FINITE(r_fast)) r_fast = Type(0.1);                                                                                                                                                                        
     if (!R_FINITE(r_slow)) r_slow = Type(0.01);                                                                                                                                                                       
     if (!R_FINITE(K_coral)) K_coral = Type(10.0);                                                                                                                                                                     
     if (!R_FINITE(eps_fast)) eps_fast = Type(0.01);                                                                                                                                                                   
     if (!R_FINITE(eps_slow)) eps_slow = Type(0.01);                                                                                                                                                                   
     if (!R_FINITE(sel_fast)) sel_fast = Type(0.5);                                                                                                                                                                    
     if (!R_FINITE(sel_slow)) sel_slow = Type(0.5);                                                                                                                                                                    
     if (!R_FINITE(outbreak_thresh)) outbreak_thresh = Type(0.5);                                                                                                                                                      
     if (!R_FINITE(sigma_cots)) sigma_cots = Type(0.1);                                                                                                                                                                
     if (!R_FINITE(sigma_fast)) sigma_fast = Type(0.1);                                                                                                                                                                
     if (!R_FINITE(sigma_slow)) sigma_slow = Type(0.1);                                                                                                                                                                
 >>>>>>> REPLACE                                                                                                                                                                                                       
                                                                                                                                                                                                                       

Tokens: 16k sent, 619 received. Cost: $0.04 message, $0.22 session.
Committing POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp before applying edits.
Unable to add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: Cmd('git') failed due to: exit code(1)
  cmdline: git add /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'The following paths are ignored by one of your .gitignore files:
POPULATIONS
hint: Use -f if you really want to add them.
hint: Turn this message off by running
hint: "git config advice.addIgnoredFile false"'
Unable to commit: Cmd('git') failed due to: exit code(1)
  cmdline: git commit -m feat: add model.cpp for INDIVIDUAL_W9AD2ZSF in POPULATION_0013 --no-verify -- /home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
  stderr: 'error: pathspec '/home/spi085/Documents/_Projects/SCCP-QuantModelling/POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp' did not match any file(s) known to git'
Applied edit to POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
Validating fixed model for data leakage...
Opening file: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp
File read successfully
TMB convention check: {'uses_tmb_header': True, 'uses_data_macros': True, 'uses_vector_type': True, 'uses_standard_report': True, 'uses_objective_function': True, 'uses_std_vector': False, 'uses_string_report': False}
Extracting vectors...
Found data vectors: {'sst_dat', 'slow_dat', 'Year', 'cotsimm_dat', 'cots_dat', 'fast_dat'}
Found prediction vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Found reported vectors: {'fast_pred', 'cots_pred', 'slow_pred'}
Finding initial conditions...
Found 3 initial conditions
Finding time-stepping loop...
Found loop from line 129 to 162
Found response variables from Data/timeseries_data_COTS_response.csv: {'cots_dat', 'fast_dat', 'slow_dat'}
[93mRunning model for individual...[0m
[0mIndividual directory: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF[0m
[93mRemoved old compilation: model.o[0m
[93mR script stdout:[0m
[0mg++ -std=gnu++17 -I"/usr/share/R/include" -DNDEBUG -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include" -I"/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/RcppEigen/include"   -DTMB_EIGEN_DISABLE_WARNINGS   -DTMB_LIB_INIT=R_init_model  -DCPPAD_FRAMEWORK      -fpic  -O2  -c POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp -o POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o[0m
[93mR script stderr:[0m
[0mLoading required package: TMB
Loading required package: jsonlite
here() starts at /home/spi085/Documents/_Projects/SCCP-QuantModelling
using C++ compiler: ‘g++ (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0’
In file included from /usr/share/R/include/R.h:69,
                 from /home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include/TMB.hpp:182,
                 from POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:1:
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: In member function ‘Type objective_function<Type>::operator()()’:
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:81:19: error: ‘r_fast’ was not declared in this scope
   81 |     if (!R_FINITE(r_fast)) r_fast = Type(0.1);
      |                   ^~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:82:19: error: ‘r_slow’ was not declared in this scope
   82 |     if (!R_FINITE(r_slow)) r_slow = Type(0.01);
      |                   ^~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:83:19: error: ‘K_coral’ was not declared in this scope
   83 |     if (!R_FINITE(K_coral)) K_coral = Type(10.0);
      |                   ^~~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:84:19: error: ‘eps_fast’ was not declared in this scope
   84 |     if (!R_FINITE(eps_fast)) eps_fast = Type(0.01);
      |                   ^~~~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:84:10: note: in expansion of macro ‘R_FINITE’
   84 |     if (!R_FINITE(eps_fast)) eps_fast = Type(0.01);
      |          ^~~~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:85:19: error: ‘eps_slow’ was not declared in this scope
   85 |     if (!R_FINITE(eps_slow)) eps_slow = Type(0.01);
      |                   ^~~~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:86:19: error: ‘sel_fast’ was not declared in this scope
   86 |     if (!R_FINITE(sel_fast)) sel_fast = Type(0.5);
      |                   ^~~~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:87:19: error: ‘sel_slow’ was not declared in this scope
   87 |     if (!R_FINITE(sel_slow)) sel_slow = Type(0.5);
      |                   ^~~~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:88:19: error: ‘outbreak_thresh’ was not declared in this scope; did you mean ‘logit_outbreak_thresh’?
   88 |     if (!R_FINITE(outbreak_thresh)) outbreak_thresh = Type(0.5);
      |                   ^~~~~~~~~~~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:89:19: error: ‘sigma_cots’ was not declared in this scope; did you mean ‘m_cots’?
   89 |     if (!R_FINITE(sigma_cots)) sigma_cots = Type(0.1);
      |                   ^~~~~~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:90:19: error: ‘sigma_fast’ was not declared in this scope; did you mean ‘log_sigma_fast’?
   90 |     if (!R_FINITE(sigma_fast)) sigma_fast = Type(0.1);
      |                   ^~~~~~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:91:19: error: ‘sigma_slow’ was not declared in this scope; did you mean ‘log_sigma_slow’?
   91 |     if (!R_FINITE(sigma_slow)) sigma_slow = Type(0.1);
      |                   ^~~~~~~~~~
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: In instantiation of ‘Type objective_function<Type>::operator()() [with Type = CppAD::AD<double>]’:
/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include/tmb_core.hpp:1312:6:   required from here
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:73:19: error: cannot convert ‘CppAD::AD<double>’ to ‘double’
   73 |     if (!R_FINITE(r_cots)) r_cots = Type(0.1);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<double>
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:74:19: error: cannot convert ‘CppAD::AD<double>’ to ‘double’
   74 |     if (!R_FINITE(K_cots)) K_cots = Type(1.0);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<double>
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:75:19: error: cannot convert ‘CppAD::AD<double>’ to ‘double’
   75 |     if (!R_FINITE(alpha_cots)) alpha_cots = Type(0.01);
      |                   ^~~~~~~~~~
      |                   |
      |                   CppAD::AD<double>
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:76:19: error: cannot convert ‘CppAD::AD<double>’ to ‘double’
   76 |     if (!R_FINITE(beta_cots)) beta_cots = Type(1.0);
      |                   ^~~~~~~~~
      |                   |
      |                   CppAD::AD<double>
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:77:19: error: cannot convert ‘CppAD::AD<double>’ to ‘double’
   77 |     if (!R_FINITE(m_cots)) m_cots = Type(0.1);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<double>
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:78:19: error: cannot convert ‘CppAD::AD<double>’ to ‘double’
   78 |     if (!R_FINITE(eps_cots)) eps_cots = Type(0.01);
      |                   ^~~~~~~~
      |                   |
      |                   CppAD::AD<double>
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:79:19: error: cannot convert ‘CppAD::AD<double>’ to ‘double’
   79 |     if (!R_FINITE(n_hill)) n_hill = Type(1.0);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<double>
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:80:19: error: cannot convert ‘CppAD::AD<double>’ to ‘double’
   80 |     if (!R_FINITE(coral_crit)) coral_crit = Type(1.0);
      |                   ^~~~~~~~~~
      |                   |
      |                   CppAD::AD<double>
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: In instantiation of ‘Type objective_function<Type>::operator()() [with Type = CppAD::AD<CppAD::AD<double> >]’:
/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include/tmb_core.hpp:917:29:   required from ‘Type objective_function<Type>::evalUserTemplate() [with Type = CppAD::AD<CppAD::AD<double> >]’
/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include/tmb_core.hpp:2116:26:   required from here
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:73:19: error: cannot convert ‘CppAD::AD<CppAD::AD<double> >’ to ‘double’
   73 |     if (!R_FINITE(r_cots)) r_cots = Type(0.1);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<double> >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:74:19: error: cannot convert ‘CppAD::AD<CppAD::AD<double> >’ to ‘double’
   74 |     if (!R_FINITE(K_cots)) K_cots = Type(1.0);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<double> >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:75:19: error: cannot convert ‘CppAD::AD<CppAD::AD<double> >’ to ‘double’
   75 |     if (!R_FINITE(alpha_cots)) alpha_cots = Type(0.01);
      |                   ^~~~~~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<double> >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:76:19: error: cannot convert ‘CppAD::AD<CppAD::AD<double> >’ to ‘double’
   76 |     if (!R_FINITE(beta_cots)) beta_cots = Type(1.0);
      |                   ^~~~~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<double> >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:77:19: error: cannot convert ‘CppAD::AD<CppAD::AD<double> >’ to ‘double’
   77 |     if (!R_FINITE(m_cots)) m_cots = Type(0.1);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<double> >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:78:19: error: cannot convert ‘CppAD::AD<CppAD::AD<double> >’ to ‘double’
   78 |     if (!R_FINITE(eps_cots)) eps_cots = Type(0.01);
      |                   ^~~~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<double> >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:79:19: error: cannot convert ‘CppAD::AD<CppAD::AD<double> >’ to ‘double’
   79 |     if (!R_FINITE(n_hill)) n_hill = Type(1.0);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<double> >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:80:19: error: cannot convert ‘CppAD::AD<CppAD::AD<double> >’ to ‘double’
   80 |     if (!R_FINITE(coral_crit)) coral_crit = Type(1.0);
      |                   ^~~~~~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<double> >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp: In instantiation of ‘Type objective_function<Type>::operator()() [with Type = CppAD::AD<CppAD::AD<CppAD::AD<double> > >]’:
/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include/tmb_core.hpp:917:29:   required from ‘Type objective_function<Type>::evalUserTemplate() [with Type = CppAD::AD<CppAD::AD<CppAD::AD<double> > >]’
/home/spi085/R/x86_64-pc-linux-gnu-library/4.4/TMB/include/tmb_core.hpp:2365:28:   required from here
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:73:19: error: cannot convert ‘CppAD::AD<CppAD::AD<CppAD::AD<double> > >’ to ‘double’
   73 |     if (!R_FINITE(r_cots)) r_cots = Type(0.1);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<CppAD::AD<double> > >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:74:19: error: cannot convert ‘CppAD::AD<CppAD::AD<CppAD::AD<double> > >’ to ‘double’
   74 |     if (!R_FINITE(K_cots)) K_cots = Type(1.0);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<CppAD::AD<double> > >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:75:19: error: cannot convert ‘CppAD::AD<CppAD::AD<CppAD::AD<double> > >’ to ‘double’
   75 |     if (!R_FINITE(alpha_cots)) alpha_cots = Type(0.01);
      |                   ^~~~~~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<CppAD::AD<double> > >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:76:19: error: cannot convert ‘CppAD::AD<CppAD::AD<CppAD::AD<double> > >’ to ‘double’
   76 |     if (!R_FINITE(beta_cots)) beta_cots = Type(1.0);
      |                   ^~~~~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<CppAD::AD<double> > >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:77:19: error: cannot convert ‘CppAD::AD<CppAD::AD<CppAD::AD<double> > >’ to ‘double’
   77 |     if (!R_FINITE(m_cots)) m_cots = Type(0.1);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<CppAD::AD<double> > >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:78:19: error: cannot convert ‘CppAD::AD<CppAD::AD<CppAD::AD<double> > >’ to ‘double’
   78 |     if (!R_FINITE(eps_cots)) eps_cots = Type(0.01);
      |                   ^~~~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<CppAD::AD<double> > >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:79:19: error: cannot convert ‘CppAD::AD<CppAD::AD<CppAD::AD<double> > >’ to ‘double’
   79 |     if (!R_FINITE(n_hill)) n_hill = Type(1.0);
      |                   ^~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<CppAD::AD<double> > >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.cpp:80:19: error: cannot convert ‘CppAD::AD<CppAD::AD<CppAD::AD<double> > >’ to ‘double’
   80 |     if (!R_FINITE(coral_crit)) coral_crit = Type(1.0);
      |                   ^~~~~~~~~~
      |                   |
      |                   CppAD::AD<CppAD::AD<CppAD::AD<double> > >
/usr/share/R/include/R_ext/Arith.h:84:34: note: in definition of macro ‘R_FINITE’
   84 | # define R_FINITE(x)    R_finite(x)
      |                                  ^
/usr/share/R/include/R_ext/Arith.h:63:14: note:   initializing argument 1 of ‘int R_finite(double)’
   63 | int R_finite(double);           /* True if none of NA, NaN, +/-Inf */
      |              ^~~~~~
make: *** [/usr/lib/R/etc/Makeconf:204: POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF/model.o] Error 1
Error in TMB::compile(file.path(individual_dir, model_file), flags = flags,  : 
  Compilation failed
Error: Compilation failed
Execution halted[0m
[91mModel failed to compile.[0m
Maximum sub-iterations reached for POPULATIONS/POPULATION_0013/INDIVIDUAL_W9AD2ZSF. The model could not be successfully run after 5 attempts.
